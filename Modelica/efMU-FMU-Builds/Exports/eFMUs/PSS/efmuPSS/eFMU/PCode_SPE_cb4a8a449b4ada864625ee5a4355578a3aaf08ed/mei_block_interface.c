/*2025-10-27T17:05:02.028986053Z*/

/**********************************************************************************************************************
 * mei_block_interface.c
 *
 * Multiple external instances.
 *
 * generated by : dymola-embedded/MEI_SII_CodeGen 1.0.0
 **********************************************************************************************************************/

#include "mei_block_interface.h"

#ifdef __cplusplus
extern "C" {
#endif

#define ALGOSTRUCT  BlockState_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed

void *mei_Startup_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(void) {
    void *self = malloc(sizeof(ALGOSTRUCT));
    if(self != NULL) {
        Startup_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed((ALGOSTRUCT*) self);
    }
    return self;
}

void mei_Terminate_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(void *object) {
    if(object != NULL) {
        free(object);
    }
}

int mei_DoStep_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(void *object
,   /* IN */    double  vSI
,   /* OUT */   double* vs
) {
    ALGOSTRUCT *self = (ALGOSTRUCT *) object;
    int result = -1;

    if(self != NULL) {
        self->vSI = (Real)vSI;

        DoStep_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed((ALGOSTRUCT*) self);

        *vs = (double)self->vs;
        result = (int)self->ErrorSignals;
    }

    return result;
}

int mei_Recalibrate_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(void *object
,   /* TUNEABLE */  double  Kw
,   /* TUNEABLE */  double  T1
,   /* TUNEABLE */  double  T2
,   /* TUNEABLE */  double  T3
,   /* TUNEABLE */  double  T4
,   /* TUNEABLE */  double  Tw
,   /* TUNEABLE */  double  vSI_start
,   /* TUNEABLE */  double  vsmax
,   /* TUNEABLE */  double  vsmin
) {
    ALGOSTRUCT *self = (ALGOSTRUCT *) object;
    int result = -1;

    if(self != NULL) {
        self->Kw = (Real)Kw;
        self->T1 = (Real)T1;
        self->T2 = (Real)T2;
        self->T3 = (Real)T3;
        self->T4 = (Real)T4;
        self->Tw = (Real)Tw;
        self->vSI_start = (Real)vSI_start;
        self->vsmax = (Real)vsmax;
        self->vsmin = (Real)vsmin;

        Recalibrate_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed((ALGOSTRUCT *) self);

        result = (int)self->ErrorSignals;
    }

    return result;
}

int mei_Reinitialize_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(void *object
,   /* IN */    double  vSI
,   /* OUT */   double* vs
) {
    ALGOSTRUCT *self = (ALGOSTRUCT *) object;
    int result = -1;

    if(self != NULL) {
        self->vSI = (Real)vSI;

        Reinitialize_H525b873079cf7a65f464c408f25344d5bd630cab_cb4a8a449b4ada864625ee5a4355578a3aaf08ed((ALGOSTRUCT *) \
            self);

        *vs = (double)self->vs;
        result = (int)self->ErrorSignals;
    }

    return result;
}

#ifdef __cplusplus
}
#endif

/* end of file */
