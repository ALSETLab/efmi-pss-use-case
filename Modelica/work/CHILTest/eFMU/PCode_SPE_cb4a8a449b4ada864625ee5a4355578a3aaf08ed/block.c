/*2025-11-13T01:11:09.867Z*/

/**********************************************************************************************************************
 * block.c
 *
 * generated by : dymola-embedded/MEI_SII_CodeGen 0.3.0 (beta, internal R&D version)
 *
 * with extra comments for :
 *   Code     = true
 *   Location = true
 *
 * with optimizations for :
 *   Indexing = true
 *   Parenth. = true (Misra compatible)
 *   Id. len  = -1
 *   Tab size = 4
 *   Line len = 120
 **********************************************************************************************************************/

#include "block.h"

#ifdef __cplusplus
extern "C" {
#endif

#define ALGONAME    "H283cd02180511b024b59731032fd3290f8675b29_cb4a8a449b4ada864625ee5a4355578a3aaf08ed"
#define ALGOSTRUCT  BlockState_H283cd02180511b024b59731032fd3290f8675b29_cb4a8a449b4ada864625ee5a4355578a3aaf08ed

#include "galec_stl.h"

/**********************************************************************************************************************
 * Prototypes
 **********************************************************************************************************************/
static void Recalibrate(ALGOSTRUCT *instance);
static Boolean ESP_cmp_eq(ALGOSTRUCT *instance, Real a, Real b);
static void Reinitialize(ALGOSTRUCT *instance);
static void Startup(ALGOSTRUCT *instance);
static Boolean ESP_cmp_gt(ALGOSTRUCT *instance, Real a, Real b);
static Boolean ESP_cmp_lt(ALGOSTRUCT *instance, Real a, Real b);
static void DoStep(ALGOSTRUCT *instance);

/**********************************************************************************************************************
 * User function(s)
 **********************************************************************************************************************/
static void Recalibrate(ALGOSTRUCT *instance)
{
    /* Algorithm */
    /*
    Initialize variables with start value equation (dependent initializations):
    */

    /* (276:3) self.'transformer.Zn' := (self.'transformer.Vn' ^ 2) / self.'transformer.Sn'; */
    instance->transformer_Zn = (ESP_square(instance->transformer_Vn)) / instance->transformer_Sn;

    /* (277:3) self.'transformer.Zb' := (self.'transformer.V_b' ^ 2) / self.'SysData.S_b'; */
    instance->transformer_Zb = (ESP_square(instance->transformer_V_b)) / instance->SysData_S_b;

    /* (278:3) self.'transformer.r' := (self.'transformer.rT' * self.'transformer.Zn') / self.'transformer.Zb'; */
    instance->transformer_r = (instance->transformer_rT * instance->transformer_Zn) / instance->transformer_Zb;

    /* (279:3) self.'transformer.x' := (self.'transformer.xT' * self.'transformer.Zn') / self.'transformer.Zb'; */
    instance->transformer_x = (instance->transformer_xT * instance->transformer_Zn) / instance->transformer_Zb;

    /* (280:3) self.'G1.machine.w_b' := 6.28318530717958623 * self.'SysData.fn'; */
    instance->G1_machine_w_b = 6.2831855F * instance->SysData_fn;

    /* (281:3) self.'G1.machine.S_SBtoMB' := self.'SysData.S_b' / self.'G1.machine.Sn'; */
    instance->G1_machine_S_SBtoMB = instance->SysData_S_b / instance->G1_machine_Sn;

    /* (282:3) self.'G1.machine.I_MBtoSB' := (self.'G1.machine.Sn' * self.'G1.V_b') / (self.'SysData.S_b' * self.'G1.machine.Vn'); */
    instance->G1_machine_I_MBtoSB = (instance->G1_machine_Sn * instance->G1_V_b) / (instance->SysData_S_b * instance->G1_machine_Vn);

    /* (283:3) self.'G1.machine.V_MBtoSB' := self.'G1.machine.Vn' / self.'G1.V_b'; */
    instance->G1_machine_V_MBtoSB = instance->G1_machine_Vn / instance->G1_V_b;

    /* (284:3) self.'G1.machine.Z_MBtoSB' := (self.'SysData.S_b' * (self.'G1.machine.Vn' ^ 2)) / (self.'G1.machine.Sn' * (self.'G1.V_b' ^ 2)); */
    instance->G1_machine_Z_MBtoSB = (instance->SysData_S_b * (ESP_square(instance->G1_machine_Vn))) / (instance->G1_machine_Sn \
        * (ESP_square(instance->G1_V_b)));

    /* (285:3) self.'G1.machine.p0' := self.'G1.P_0' / self.'SysData.S_b'; */
    instance->G1_machine_p0 = instance->G1_P_0 / instance->SysData_S_b;

    /* (286:3) self.'G1.machine.q0' := self.'G1.Q_0' / self.'SysData.S_b'; */
    instance->G1_machine_q0 = instance->G1_Q_0 / instance->SysData_S_b;

    /* (287:3) self.'G1.machine.Vt0.re' := self.'G1.v_0' * cos(self.'G1.angle_0'); */
    instance->G1_machine_Vt0_re = instance->G1_v_0 * ESP_cos(instance->G1_angle_0);

    /* (288:3) self.'G1.machine.Vt0.im' := self.'G1.v_0' * sin(self.'G1.angle_0'); */
    instance->G1_machine_Vt0_im = instance->G1_v_0 * ESP_sin(instance->G1_angle_0);

    /* (289:3) self.'G1.machine.S0.im' := (-1.0) * self.'G1.machine.q0'; */
    instance->G1_machine_S0_im = (-1.0F) * instance->G1_machine_q0;

    /* (290:3) self.'G1.machine.I0.re' := ((self.'G1.machine.p0' * self.'G1.machine.Vt0.re') - (self.'G1.machine.S0.im' * self.'G1.machine.Vt0.im')) / ((self.'G1.machine.Vt0.re' * self.'G1.machine.Vt0.re') + (self.'G1.machine.Vt0.im' * self.'G1.machine.Vt0.im')); */
    instance->G1_machine_I0_re = ((instance->G1_machine_p0 * instance->G1_machine_Vt0_re) - (instance->G1_machine_S0_im \
        * instance->G1_machine_Vt0_im)) / ((instance->G1_machine_Vt0_re * instance->G1_machine_Vt0_re) + (instance->G1_machine_Vt0_im \
        * instance->G1_machine_Vt0_im));

    /* (291:3) self.'G1.machine.I0.im' := ((self.'G1.machine.p0' * self.'G1.machine.Vt0.im') + (self.'G1.machine.S0.im' * self.'G1.machine.Vt0.re')) / ((self.'G1.machine.Vt0.re' * self.'G1.machine.Vt0.re') + (self.'G1.machine.Vt0.im' * self.'G1.machine.Vt0.im')); */
    instance->G1_machine_I0_im = ((instance->G1_machine_p0 * instance->G1_machine_Vt0_im) + (instance->G1_machine_S0_im \
        * instance->G1_machine_Vt0_re)) / ((instance->G1_machine_Vt0_re * instance->G1_machine_Vt0_re) + (instance->G1_machine_Vt0_im \
        * instance->G1_machine_Vt0_im));

    /* (292:3) self.'G1.machine.auxCMval.re' := self.'G1.machine.Vt0.re' + (((self.'G1.machine.ra' * self.'G1.machine.Z_MBtoSB') * self.'G1.machine.I0.re') - ((self.'G1.machine.xq' * self.'G1.machine.Z_MBtoSB') * self.'G1.machine.I0.im')); */
    instance->G1_machine_auxCMval_re = instance->G1_machine_Vt0_re + ((instance->G1_machine_ra * instance->G1_machine_Z_MBtoSB \
        * instance->G1_machine_I0_re) - (instance->G1_machine_xq * instance->G1_machine_Z_MBtoSB * instance->G1_machine_I0_im));

    /* (293:3) self.'G1.machine.auxCMval.im' := self.'G1.machine.Vt0.im' + (((self.'G1.machine.ra' * self.'G1.machine.Z_MBtoSB') * self.'G1.machine.I0.im') + ((self.'G1.machine.xq' * self.'G1.machine.Z_MBtoSB') * self.'G1.machine.I0.re')); */
    instance->G1_machine_auxCMval_im = instance->G1_machine_Vt0_im + ((instance->G1_machine_ra * instance->G1_machine_Z_MBtoSB \
        * instance->G1_machine_I0_im) + (instance->G1_machine_xq * instance->G1_machine_Z_MBtoSB * instance->G1_machine_I0_re));

    /* (294:3) self.'G1.machine.delta0' := atan2(self.'G1.machine.auxCMval.im', self.'G1.machine.auxCMval.re'); */
    instance->G1_machine_delta0 = ESP_atan2(instance->G1_machine_auxCMval_im, instance->G1_machine_auxCMval_re);

    /* (295:3) self.'G1.machine.Vdq0.re' := ((self.'G1.machine.Vt0.re' * cos(1.57079632679489656 - self.'G1.machine.delta0')) - (self.'G1.machine.Vt0.im' * sin(1.57079632679489656 - self.'G1.machine.delta0'))) / self.'G1.machine.V_MBtoSB'; */
    instance->G1_machine_Vdq0_re = ((instance->G1_machine_Vt0_re * ESP_cos(1.5707964F - instance->G1_machine_delta0)) - \
        (instance->G1_machine_Vt0_im * ESP_sin(1.5707964F - instance->G1_machine_delta0))) / instance->G1_machine_V_MBtoSB;

    /* (296:3) self.'G1.machine.Vdq0.im' := ((self.'G1.machine.Vt0.re' * sin(1.57079632679489656 - self.'G1.machine.delta0')) + (self.'G1.machine.Vt0.im' * cos(1.57079632679489656 - self.'G1.machine.delta0'))) / self.'G1.machine.V_MBtoSB'; */
    instance->G1_machine_Vdq0_im = ((instance->G1_machine_Vt0_re * ESP_sin(1.5707964F - instance->G1_machine_delta0)) + \
        (instance->G1_machine_Vt0_im * ESP_cos(1.5707964F - instance->G1_machine_delta0))) / instance->G1_machine_V_MBtoSB;

    /* (297:3) self.'G1.machine.Idq0.re' := ((self.'G1.machine.I0.re' * cos(1.57079632679489656 - self.'G1.machine.delta0')) - (self.'G1.machine.I0.im' * sin(1.57079632679489656 - self.'G1.machine.delta0'))) / self.'G1.machine.I_MBtoSB'; */
    instance->G1_machine_Idq0_re = ((instance->G1_machine_I0_re * ESP_cos(1.5707964F - instance->G1_machine_delta0)) - \
        (instance->G1_machine_I0_im * ESP_sin(1.5707964F - instance->G1_machine_delta0))) / instance->G1_machine_I_MBtoSB;

    /* (298:3) self.'G1.machine.Idq0.im' := ((self.'G1.machine.I0.re' * sin(1.57079632679489656 - self.'G1.machine.delta0')) + (self.'G1.machine.I0.im' * cos(1.57079632679489656 - self.'G1.machine.delta0'))) / self.'G1.machine.I_MBtoSB'; */
    instance->G1_machine_Idq0_im = ((instance->G1_machine_I0_re * ESP_sin(1.5707964F - instance->G1_machine_delta0)) + \
        (instance->G1_machine_I0_im * ESP_cos(1.5707964F - instance->G1_machine_delta0))) / instance->G1_machine_I_MBtoSB;

    /* (299:3) self.'G1.machine.vd0' := self.'G1.machine.Vdq0.re'; */
    instance->G1_machine_vd0 = instance->G1_machine_Vdq0_re;

    /* (300:3) self.'G1.machine.vq0' := self.'G1.machine.Vdq0.im'; */
    instance->G1_machine_vq0 = instance->G1_machine_Vdq0_im;

    /* (301:3) self.'G1.machine.id0' := self.'G1.machine.Idq0.re'; */
    instance->G1_machine_id0 = instance->G1_machine_Idq0_re;

    /* (302:3) self.'G1.machine.iq0' := self.'G1.machine.Idq0.im'; */
    instance->G1_machine_iq0 = instance->G1_machine_Idq0_im;

    /* (303:3) self.'G1.machine.pm00' := (((self.'G1.machine.vq0' + (self.'G1.machine.ra' * self.'G1.machine.iq0')) * self.'G1.machine.iq0') + ((self.'G1.machine.vd0' + (self.'G1.machine.ra' * self.'G1.machine.id0')) * self.'G1.machine.id0')) / self.'G1.machine.S_SBtoMB'; */
    instance->G1_machine_pm00 = (((instance->G1_machine_vq0 + (instance->G1_machine_ra * instance->G1_machine_iq0)) * instance->G1_machine_iq0) \
        + ((instance->G1_machine_vd0 + (instance->G1_machine_ra * instance->G1_machine_id0)) * instance->G1_machine_id0)) \
        / instance->G1_machine_S_SBtoMB;

    /* (304:3) self.'G1.machine.e2q0' := (self.'G1.machine.vq0' + (self.'G1.machine.ra' * self.'G1.machine.iq0')) + (self.'G1.machine.x2d' * self.'G1.machine.id0'); */
    instance->G1_machine_e2q0 = instance->G1_machine_vq0 + (instance->G1_machine_ra * instance->G1_machine_iq0) + (instance->G1_machine_x2d \
        * instance->G1_machine_id0);

    /* (305:3) self.'G1.machine.e2d0' := (self.'G1.machine.vd0' + (self.'G1.machine.ra' * self.'G1.machine.id0')) - (self.'G1.machine.x2q' * self.'G1.machine.iq0'); */
    instance->G1_machine_e2d0 = (instance->G1_machine_vd0 + (instance->G1_machine_ra * instance->G1_machine_id0)) - (instance->G1_machine_x2q \
        * instance->G1_machine_iq0);

    /* (306:3) self.'G1.machine.e1d0' := ((self.'G1.machine.xq' - self.'G1.machine.x1q') - (((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / (self.'G1.machine.T1q0' * self.'G1.machine.x1q'))) * self.'G1.machine.iq0'; */
    instance->G1_machine_e1d0 = (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / (instance->G1_machine_T1q0 * instance->G1_machine_x1q))) \
        * instance->G1_machine_iq0;

    /* (307:3) self.'G1.machine.K1' := (self.'G1.machine.xd' - self.'G1.machine.x1d') - (((self.'G1.machine.T2d0' * self.'G1.machine.x2d') * (self.'G1.machine.xd' - self.'G1.machine.x1d')) / (self.'G1.machine.T1d0' * self.'G1.machine.x1d')); */
    instance->G1_machine_K1 = instance->G1_machine_xd - instance->G1_machine_x1d - ((instance->G1_machine_T2d0 * instance->G1_machine_x2d \
        * (instance->G1_machine_xd - instance->G1_machine_x1d)) / (instance->G1_machine_T1d0 * instance->G1_machine_x1d));

    /* (308:3) self.'G1.machine.K2' := (self.'G1.machine.x1d' - self.'G1.machine.x2d') + (((self.'G1.machine.T2d0' * self.'G1.machine.x2d') * (self.'G1.machine.xd' - self.'G1.machine.x1d')) / (self.'G1.machine.T1d0' * self.'G1.machine.x1d')); */
    instance->G1_machine_K2 = (instance->G1_machine_x1d - instance->G1_machine_x2d) + ((instance->G1_machine_T2d0 * instance->G1_machine_x2d \
        * (instance->G1_machine_xd - instance->G1_machine_x1d)) / (instance->G1_machine_T1d0 * instance->G1_machine_x1d));

    /* (309:3) self.'G1.machine.e1q0' := (self.'G1.machine.e2q0' + (self.'G1.machine.K2' * self.'G1.machine.id0')) - ((self.'G1.machine.Taa' * (((self.'G1.machine.K1' + self.'G1.machine.K2') * self.'G1.machine.id0') + self.'G1.machine.e2q0')) / self.'G1.machine.T1d0'); */
    instance->G1_machine_e1q0 = (instance->G1_machine_e2q0 + (instance->G1_machine_K2 * instance->G1_machine_id0)) - ((instance->G1_machine_Taa \
        * (((instance->G1_machine_K1 + instance->G1_machine_K2) * instance->G1_machine_id0) + instance->G1_machine_e2q0)) \
        / instance->G1_machine_T1d0);

    /* (310:3) self.'G1.machine.vf00' := (self.'G1.machine.V_MBtoSB' * ((self.'G1.machine.K1' * self.'G1.machine.id0') + self.'G1.machine.e1q0')) / (1.0 - (self.'G1.machine.Taa' / self.'G1.machine.T1d0')); */
    instance->G1_machine_vf00 = (instance->G1_machine_V_MBtoSB * ((instance->G1_machine_K1 * instance->G1_machine_id0) \
        + instance->G1_machine_e1q0)) / (1.0F - (instance->G1_machine_Taa / instance->G1_machine_T1d0));

    /* (311:3) self.vf0OUT := self.'G1.machine.vf00'; */
    instance->vf0OUT = instance->G1_machine_vf00;
}

static Boolean ESP_cmp_eq(ALGOSTRUCT *instance, Real a, Real b)
{
    /* Output variable */
    Boolean y;

    /* Algorithm */
    if(ESP_isTrue(isNaN(a)) || ESP_isTrue(isNaN(b))) {
        instance->ErrorSignals |= ErrorSignal_NAN;
        y = ESP_false;
    } else {
        y = (a == b) ? ESP_true : ESP_false;
    }

    return y;
}

static void Reinitialize(ALGOSTRUCT *instance)
{
    /* Error signals helpers */
    ErrorSignal ESP_tmp_signals_from_caller = instance->ErrorSignals;
    ErrorSignal ESP_tmp_signals;

    /* Local variable(s) */
    Boolean DymolaConvertInputToREAL0;
    Real solution_buffer_for_x_6[6];
    Real _A0[36];
    Integer _pivot2[6];
    Real _work1[6];

    /* Remove signals from caller */
    instance->ErrorSignals = ErrorSignal_NONE;

    /* Algorithm */
    /*
    Initialize variables without explicit start value or equation (implicit initializations):
    */

    /* (190:3) self.'derivative(G1.avr.vm)' := 0.0; */
    instance->der_G1_avr_vm = 0.0F;

    /* (191:3) self.'derivative(G1.avr.vr)' := 0.0; */
    instance->der_G1_avr_vr = 0.0F;

    /* (192:3) self.'derivative(G1.avr.vf1)' := 0.0; */
    instance->der_G1_avr_vf1 = 0.0F;

    /* (193:3) self.'derivative(G1.machine.e1q)' := 0.0; */
    instance->der_G1_machine_e1q = 0.0F;

    /* (194:3) self.'derivative(G1.machine.e2q)' := 0.0; */
    instance->der_G1_machine_e2q = 0.0F;

    /* (195:3) self.'derivative(G1.machine.w)' := 0.0; */
    instance->der_G1_machine_w = 0.0F;

    /* (196:3) self.'derivative(G1.machine.delta)' := 0.0; */
    instance->der_G1_machine_delta = 0.0F;

    /* (197:3) self.Pgen := 0.0; */
    instance->Pgen = 0.0F;

    /* (198:3) self.Qgen := 0.0; */
    instance->Qgen = 0.0F;

    /*
    Initialize variables with explicit start value (independent initializations):
    */

    /* (202:3) self.'G1.avr.vm' := self.'G1.v_0'; */
    instance->G1_avr_vm = instance->G1_v_0;

    /* (203:3) self.'G1.machine.e1q' := self.'G1.machine.e1q0'; */
    instance->G1_machine_e1q = instance->G1_machine_e1q0;

    /* (204:3) self.'G1.machine.e2q' := self.'G1.machine.e2q0'; */
    instance->G1_machine_e2q = instance->G1_machine_e2q0;

    /* (205:3) self.'G1.machine.w' := 1.0; */
    instance->G1_machine_w = 1.0F;

    /* (206:3) self.'G1.machine.delta' := self.'G1.machine.delta0'; */
    instance->G1_machine_delta = instance->G1_machine_delta0;

    /* (207:3) self.'G1.machine.e1d' := self.'G1.machine.e1d0'; */
    instance->G1_machine_e1d = instance->G1_machine_e1d0;

    /* (208:3) self.'G1.machine.e2d' := self.'G1.machine.e2d0'; */
    instance->G1_machine_e2d = instance->G1_machine_e2d0;

    /* (209:3) DymolaConvertInputToREAL0 := false; */
    DymolaConvertInputToREAL0 = ESP_false;

    /* (210:3) self.'B3.p.vr' := self.'B3.v_0' * cos(self.'B3.angle_0'); */
    instance->B3_p_vr = instance->B3_v_0 * ESP_cos(instance->B3_angle_0);

    /* (211:3) self.'B3.p.vi' := self.'B3.v_0' * sin(self.'B3.angle_0'); */
    instance->B3_p_vi = instance->B3_v_0 * ESP_sin(instance->B3_angle_0);

    /* (212:3) self.v := self.'G1.v_0'; */
    instance->v = instance->G1_v_0;

    /* (213:3) self.w := 1.0; */
    instance->w = 1.0F;

    /*
    Initialize variables with start value equation (dependent initializations):
    */

    /* (217:3) self.'derivative(G1.machine.e1d)' := 0.0; */
    instance->der_G1_machine_e1d = 0.0F;

    /* (218:3) self.'derivative(G1.machine.e2d)' := 0.0; */
    instance->der_G1_machine_e2d = 0.0F;

    /* Solve linear system of equations A*x = b: */

    /* (220:3) 'solution_buffer.for.x[6]' := solveLinearEquations({{self.'transformer.r' / self.'transformer.m', (-1.0) * (self.'transformer.x' / self.'transformer.m'), 0.0, 0.0, ((self.'transformer.r' * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) - ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2d') + (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra'))) + (self.'transformer.x' * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta'))), ((((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * (self.'G1.machine.T1q0' * ((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'G1.machine.T1q0') - (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra')) + ((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * (self.'G1.machine.T2q0' * ((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'G1.machine.T2q0')) + (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2q')) + (self.'transformer.r' * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) - (self.'transformer.x' * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta')))}, {self.'transformer.x' / self.'transformer.m', self.'transformer.r' / self.'transformer.m', 0.0, 0.0, (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra') - (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2d')) + (self.'transformer.x' * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta')))) - (self.'transformer.r' * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta'))), ((self.'transformer.x' * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta'))) - ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra') + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * (self.'G1.machine.T1q0' * ((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'G1.machine.T1q0')) + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * (self.'G1.machine.T2q0' * ((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'G1.machine.T2q0')) + (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2q'))) + (self.'transformer.r' * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta')))}, {((((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))) * self.'transformer.x') + ((1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))) * self.'transformer.r')) + self.'L1.R', ((((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))) * self.'transformer.r') - ((1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))) * self.'transformer.x')) - self.'L1.X', (-1.0) * self.'L1.X', self.'L1.R', (-1.0) * ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) * self.'G1.machine.x2d') + ((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * self.'G1.machine.ra')) / self.'transformer.m'), ((((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * (self.'G1.machine.T1q0' * ((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T1q0') - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) * self.'G1.machine.ra') / self.'transformer.m')) + ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * (self.'G1.machine.T2q0' * ((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T2q0')) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * self.'G1.machine.x2q') / self.'transformer.m')}, {(((1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))) * self.'transformer.x') + ((((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')) * self.'transformer.r')) + self.'L1.X', (((1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))) * self.'transformer.r') - ((((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')) * self.'transformer.x')) + self.'L1.R', self.'L1.R', self.'L1.X', (-1.0) * ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) * self.'G1.machine.x2d') + ((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * self.'G1.machine.ra')) / self.'transformer.m'), ((((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * (self.'G1.machine.T1q0' * ((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T1q0') - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) * self.'G1.machine.ra') / self.'transformer.m')) + ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * (self.'G1.machine.T2q0' * ((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T2q0')) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * self.'G1.machine.x2q') / self.'transformer.m')}, {((1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))) * self.'transformer.r') - (((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')) * self.'transformer.x'), (-1.0) * ((((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')) * self.'transformer.r') + ((1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))) * self.'transformer.x')), self.'L2.X', (-1.0) * self.'L2.R', (-1.0) * ((((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) - ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * self.'G1.machine.x2d') + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * self.'G1.machine.ra')) / self.'transformer.m'), ((((((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.T1q0' * ((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T1q0') - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) - ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * self.'G1.machine.ra') / self.'transformer.m')) + ((((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.T2q0' * ((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T2q0')) + (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * self.'G1.machine.x2q') / self.'transformer.m')}, {((1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))) * self.'transformer.x') + (((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')) * self.'transformer.r'), ((1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))) * self.'transformer.r') - (((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')) * self.'transformer.x'), (-1.0) * self.'L2.R', (-1.0) * self.'L2.X', (-1.0) * ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * self.'G1.machine.x2d') + ((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * self.'G1.machine.ra')) / self.'transformer.m'), ((((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.T1q0' * ((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T1q0') - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * self.'G1.machine.ra') / self.'transformer.m')) + ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.T2q0' * ((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')))) / self.'transformer.m') / self.'G1.machine.T2q0')) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * self.'G1.machine.x2q') / self.'transformer.m')}}, {(-1.0) * (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.e2q'), (-1.0) * (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (((1.0 / self.'transformer.m') / self.'transformer.m') - (1.0 / (self.'transformer.m' ^ 2)))) * self.'G1.machine.e2q'), self.'B3.p.vr' - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) * self.'G1.machine.e2q') / self.'transformer.m'), self.'B3.p.vi' - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) * self.'G1.machine.e2q') / self.'transformer.m'), self.'B3.p.vr' - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) - ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * self.'G1.machine.e2q') / self.'transformer.m'), self.'B3.p.vi' - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * self.'G1.machine.e2q') / self.'transformer.m')}); */
    _A0[0] = instance->transformer_r / instance->transformer_m;
    _A0[1] = (-1.0F) * (instance->transformer_x / instance->transformer_m);
    _A0[2] = 0.0F;
    _A0[3] = 0.0F;
    _A0[4] = ((instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) - ((instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) \
        * instance->G1_machine_x2d) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m \
        / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra))) + (instance->transformer_x \
        * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)));
    _A0[5] = ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m \
        / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) * (instance->G1_machine_T1q0 * (instance->G1_machine_xq \
        - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q * (instance->G1_machine_xq \
        - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) / instance->G1_machine_T1q0) \
        - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) \
        - (1.0F / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra)) + ((instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) \
        * (instance->G1_machine_T2q0 * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->G1_machine_T2q0) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * ((1.0F / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) \
        * instance->G1_machine_x2q) + (instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)))) \
        - (instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta)));
    _A0[6] = instance->transformer_x / instance->transformer_m;
    _A0[7] = instance->transformer_r / instance->transformer_m;
    _A0[8] = 0.0F;
    _A0[9] = 0.0F;
    _A0[10] = (((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m \
        / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra) - (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) \
        * instance->G1_machine_x2d)) + (instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta)))) \
        - (instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)));
    _A0[11] = ((instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) - ((instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) \
        * instance->G1_machine_ra) + ((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m \
        / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) * (instance->G1_machine_T1q0 * (instance->G1_machine_xq \
        - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q * (instance->G1_machine_xq \
        - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) / instance->G1_machine_T1q0) \
        + ((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) \
        - (1.0F / (ESP_square(instance->transformer_m)))) * (instance->G1_machine_T2q0 * ((instance->G1_machine_x1q - instance->G1_machine_x2q) \
        + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) \
        / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) / instance->G1_machine_T2q0) + (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) \
        * instance->G1_machine_x2q))) + (instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta)));
    _A0[12] = ((((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G))) * instance->transformer_x) + ((1.0F + ((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))) \
        * instance->transformer_r) + instance->L1_R;
    _A0[13] = ((((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G))) * instance->transformer_r) - ((1.0F + ((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))) \
        * instance->transformer_x) - instance->L1_X;
    _A0[14] = (-1.0F) * instance->L1_X;
    _A0[15] = instance->L1_R;
    _A0[16] = (-1.0F) * (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))) \
        + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (1.0F + ((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) \
        * instance->G1_machine_x2d) + (((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (1.0F + \
        ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_X)))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) \
        * instance->G1_machine_ra)) / instance->transformer_m);
    _A0[17] = (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (1.0F + ((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X)))) \
        - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G)))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * \
        (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) * instance->G1_machine_ra) / instance->transformer_m)) + \
        ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (1.0F + ((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X)))) \
        - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X)))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G))))) * instance->G1_machine_x2q) / instance->transformer_m);
    _A0[18] = ((1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))) * instance->transformer_x) + (((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)) \
        * instance->transformer_r) + instance->L1_X;
    _A0[19] = (((1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))) * instance->transformer_r) - (((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)) \
        * instance->transformer_x)) + instance->L1_R;
    _A0[20] = instance->L1_R;
    _A0[21] = instance->L1_X;
    _A0[22] = (-1.0F) * (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (1.0F + (((instance->L1_R \
        * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_X)))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((instance->L1_R \
        * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R)))) * instance->G1_machine_x2d) + (((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (1.0F + (((instance->L1_R \
        * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_X))))) * instance->G1_machine_ra)) / instance->transformer_m);
    _A0[23] = (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R))) \
        - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (1.0F + (((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))))) \
        * (instance->G1_machine_T1q0 * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) \
        + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))) + (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) \
        + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)))) * instance->G1_machine_ra) \
        / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((instance->L1_R \
        * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (1.0F + (((instance->L1_R \
        * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_X))))) * (instance->G1_machine_T2q0 * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) \
        + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R))) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) \
        + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    _A0[24] = ((1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))) * instance->transformer_r) \
        - (((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)) * instance->transformer_x);
    _A0[25] = (-1.0F) * ((((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)) * instance->transformer_r) \
        + ((1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))) * instance->transformer_x));
    _A0[26] = instance->L2_X;
    _A0[27] = (-1.0F) * instance->L2_R;
    _A0[28] = (-1.0F) * (((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (1.0F + ((instance->L2_R \
        * instance->L2_G) - (instance->L2_X * instance->L2_B)))) - (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) * instance->G1_machine_x2d) + (((instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))) \
        + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * instance->G1_machine_ra)) / instance->transformer_m);
    _A0[29] = (((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) \
        + (instance->L2_X * instance->L2_G))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * \
        (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B)))) - (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) \
        * instance->G1_machine_ra) / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    _A0[30] = ((1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))) * instance->transformer_x) \
        + (((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)) * instance->transformer_r);
    _A0[31] = ((1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))) * instance->transformer_r) \
        - (((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)) * instance->transformer_x);
    _A0[32] = (-1.0F) * instance->L2_R;
    _A0[33] = (-1.0F) * instance->L2_X;
    _A0[34] = (-1.0F) * (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (1.0F + ((instance->L2_R \
        * instance->L2_G) - (instance->L2_X * instance->L2_B)))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) * instance->G1_machine_x2d) + (((instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))) \
        - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * instance->G1_machine_ra)) / instance->transformer_m);
    _A0[35] = (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) \
        + (instance->L2_X * instance->L2_G))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * \
        (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B)))) + (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) \
        * instance->G1_machine_ra) / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    solution_buffer_for_x_6[0] = (-1.0F) * (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F \
        / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) * instance->G1_machine_e2q);
    solution_buffer_for_x_6[1] = (-1.0F) * (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F \
        / instance->transformer_m / instance->transformer_m) - (1.0F / (ESP_square(instance->transformer_m)))) * instance->G1_machine_e2q);
    solution_buffer_for_x_6[2] = instance->B3_p_vr - ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) \
        + (instance->L1_X * instance->L1_G)))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * \
        (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) * instance->G1_machine_e2q) / instance->transformer_m);
    solution_buffer_for_x_6[3] = instance->B3_p_vi - ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R)))) * instance->G1_machine_e2q) / instance->transformer_m);
    solution_buffer_for_x_6[4] = instance->B3_p_vr - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B)))) - (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) \
        * instance->G1_machine_e2q) / instance->transformer_m);
    solution_buffer_for_x_6[5] = instance->B3_p_vi - ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B)))) + (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) \
        * instance->G1_machine_e2q) / instance->transformer_m);
    instance->ErrorSignals |= ESP_solveLinearEquations(6, _A0, solution_buffer_for_x_6, _pivot2, _work1);

    /* A matrix: */
    /* Row 1: */
    /* Row 2: */
    /* Row 3: */
    /* Row 4: */
    /* Row 5: */
    /* Row 6: */
    /* b vector: */

    /* (238:3) if signal in SOLVE_LINEAR_EQUATIONS_FAILED then... */
    ESP_tmp_signals = instance->ErrorSignals & ErrorSignal_SOLVE_LINEAR_EQUATIONS_FAILED;
    if(ESP_tmp_signals != ErrorSignal_NONE) {
        instance->ErrorSignals ^= ESP_tmp_signals;
        /* Set states to default start-values and propagate error: */

        /* (240:4) self.'transformer.n.ir' := 1.00000000000000008e-15; */
        instance->transformer_n_ir = 1.0E-15F;

        /* (241:4) self.'transformer.n.ii' := 1.00000000000000008e-15; */
        instance->transformer_n_ii = 1.0E-15F;

        /* (242:4) self.'L2.p.ii' := 1.00000000000000008e-15; */
        instance->L2_p_ii = 1.0E-15F;

        /* (243:4) self.'L2.p.ir' := 1.00000000000000008e-15; */
        instance->L2_p_ir = 1.0E-15F;

        /* (244:4) self.'G1.machine.id' := self.'G1.machine.id0'; */
        instance->G1_machine_id = instance->G1_machine_id0;

        /* (245:4) self.'G1.machine.iq' := self.'G1.machine.iq0'; */
        instance->G1_machine_iq = instance->G1_machine_iq0;

        /* (246:4) signal SOLVE_LINEAR_EQUATIONS_FAILED */
        instance->ErrorSignals |= ErrorSignal_SOLVE_LINEAR_EQUATIONS_FAILED;
    } else {
        /* Only if the system can be solved, assign computed states: */

        /* (249:4) self.'transformer.n.ir' := 'solution_buffer.for.x[6]'[1]; */
        instance->transformer_n_ir = solution_buffer_for_x_6[0];

        /* (250:4) self.'transformer.n.ii' := 'solution_buffer.for.x[6]'[2]; */
        instance->transformer_n_ii = solution_buffer_for_x_6[1];

        /* (251:4) self.'L2.p.ii' := 'solution_buffer.for.x[6]'[3]; */
        instance->L2_p_ii = solution_buffer_for_x_6[2];

        /* (252:4) self.'L2.p.ir' := 'solution_buffer.for.x[6]'[4]; */
        instance->L2_p_ir = solution_buffer_for_x_6[3];

        /* (253:4) self.'G1.machine.id' := 'solution_buffer.for.x[6]'[5]; */
        instance->G1_machine_id = solution_buffer_for_x_6[4];

        /* (254:4) self.'G1.machine.iq' := 'solution_buffer.for.x[6]'[6]; */
        instance->G1_machine_iq = solution_buffer_for_x_6[5];
    }

    /* (256:3) self.'G1.avr.vref' := self.v; */
    instance->G1_avr_vref = instance->v;

    /* (257:3) self.'G1.avr.s0' := self.vf; */
    instance->G1_avr_s0 = instance->vf;

    /* (258:3) self.'G1.avr.vf1' := self.'G1.machine.vf00'; */
    instance->G1_avr_vf1 = instance->G1_machine_vf00;

    /* (259:3) self.'G1.avr.vr' := (self.K0 * (1.0 - (self.'G1.avr.T1' / self.'G1.avr.T2'))) * ((self.'G1.avr.vref' + self.vf) - self.'G1.avr.vm'); */
    instance->G1_avr_vr = instance->K0 * (1.0F - (instance->G1_avr_T1 / instance->G1_avr_T2)) * ((instance->G1_avr_vref \
        + instance->vf) - instance->G1_avr_vm);

    /* Restore signals from caller */
    instance->ErrorSignals |= ESP_tmp_signals_from_caller;
}

static void Startup(ALGOSTRUCT *instance)
{
    /* Algorithm */
    /* ********************************************************************************************** Initialize constants: */
    /*
    Initialize variables with explicit start value (independent initializations):
    */

    /* (326:3) self.'discrete.stepSize' := 2.0000000000000001e-4; */
    instance->discrete_stepSize = 2.0E-4F;

    /* (327:3) self.'transformer.m' := 1.0; */
    instance->transformer_m = 1.0F;

    /* (328:3) self.'G1.machine.x2q' := 2.5e-1; */
    instance->G1_machine_x2q = 0.25F;

    /* (329:3) self.'G1.machine.ra' := 3.00000000000000006e-3; */
    instance->G1_machine_ra = 0.003F;

    /* (330:3) self.'G1.machine.x2d' := 2.3000000000000001e-1; */
    instance->G1_machine_x2d = 0.23F;

    /* (331:3) self.'L1.X' := 2.25225225225225215e-2; */
    instance->L1_X = 0.022522522F;

    /* (332:3) self.'L1.R' := 0.0; */
    instance->L1_R = 0.0F;

    /* (333:3) self.'L1.G' := 0.0; */
    instance->L1_G = 0.0F;

    /* (334:3) self.'L1.B' := 0.0; */
    instance->L1_B = 0.0F;

    /* (335:3) self.'L2.R' := 0.0; */
    instance->L2_R = 0.0F;

    /* (336:3) self.'L2.X' := 4.18918918918918942e-2; */
    instance->L2_X = 0.04189189F;

    /* (337:3) self.'L2.B' := 0.0; */
    instance->L2_B = 0.0F;

    /* (338:3) self.'L2.G' := 0.0; */
    instance->L2_G = 0.0F;

    /* (339:3) self.'G1.avr.Tr' := 1.49999999999999994e-2; */
    instance->G1_avr_Tr = 0.015F;

    /* (340:3) self.'G1.avr.T1' := 1.0; */
    instance->G1_avr_T1 = 1.0F;

    /* (341:3) self.'G1.avr.T2' := 1.0; */
    instance->G1_avr_T2 = 1.0F;

    /* (342:3) self.'G1.avr.Te' := 1.00000000000000005e-4; */
    instance->G1_avr_Te = 1.0E-4F;

    /* (343:3) self.'G1.avr.vfmax' := 7.0; */
    instance->G1_avr_vfmax = 7.0F;

    /* (344:3) self.'G1.avr.vfmin' := -6.40000000000000036; */
    instance->G1_avr_vfmin = -6.4F;

    /* (345:3) self.'G1.V_b' := 4.0e+5; */
    instance->G1_V_b = 400000.0F;

    /* (346:3) self.'G1.machine.Vn' := 4.0e+5; */
    instance->G1_machine_Vn = 400000.0F;

    /* (347:3) self.'G1.machine.Taa' := 2.00000000000000004e-3; */
    instance->G1_machine_Taa = 0.002F;

    /* (348:3) self.'G1.machine.T1d0' := 8.0; */
    instance->G1_machine_T1d0 = 8.0F;

    /* (349:3) self.'G1.machine.xd' := 1.81000000000000005; */
    instance->G1_machine_xd = 1.81F;

    /* (350:3) self.'G1.machine.x1d' := 2.99999999999999989e-1; */
    instance->G1_machine_x1d = 0.3F;

    /* (351:3) self.'G1.machine.T2d0' := 2.99999999999999989e-2; */
    instance->G1_machine_T2d0 = 0.03F;

    /* (352:3) self.'G1.machine.M' := 7.0; */
    instance->G1_machine_M = 7.0F;

    /* (353:3) self.'G1.machine.xq' := 1.76000000000000001; */
    instance->G1_machine_xq = 1.76F;

    /* (354:3) self.'G1.machine.x1q' := 6.50000000000000022e-1; */
    instance->G1_machine_x1q = 0.65F;

    /* (355:3) self.'G1.machine.T2q0' := 7.00000000000000067e-2; */
    instance->G1_machine_T2q0 = 0.07F;

    /* (356:3) self.'G1.machine.T1q0' := 1.0; */
    instance->G1_machine_T1q0 = 1.0F;

    /* (357:3) self.'SysData.S_b' := 1.0e+8; */
    instance->SysData_S_b = 1.0E8F;

    /* (358:3) self.'G1.v_0' := 1.0; */
    instance->G1_v_0 = 1.0F;

    /* (359:3) self.'B3.v_0' := 1.0; */
    instance->B3_v_0 = 1.0F;

    /* (360:3) self.'B3.angle_0' := 0.0; */
    instance->B3_angle_0 = 0.0F;

    /* (361:3) self.'G1.angle_0' := 4.94677176989159972e-1; */
    instance->G1_angle_0 = 0.4946772F;

    /* (362:3) self.'G1.Q_0' := 9.67924969906579971e+8; */
    instance->G1_Q_0 = 9.6792499E8F;

    /* (363:3) self.'G1.P_0' := 1.99799999999359989e+9; */
    instance->G1_P_0 = 1.998E9F;

    /* (364:3) self.'G1.machine.Sn' := 2.22e+9; */
    instance->G1_machine_Sn = 2.22E9F;

    /* (365:3) self.'SysData.fn' := 6.0e+1; */
    instance->SysData_fn = 60.0F;

    /* (366:3) self.'transformer.xT' := 1.49999999999999994e-1; */
    instance->transformer_xT = 0.15F;

    /* (367:3) self.'transformer.rT' := 0.0; */
    instance->transformer_rT = 0.0F;

    /* (368:3) self.'transformer.V_b' := 4.0e+5; */
    instance->transformer_V_b = 400000.0F;

    /* (369:3) self.'transformer.Vn' := 4.0e+5; */
    instance->transformer_Vn = 400000.0F;

    /* (370:3) self.'transformer.Sn' := 2.22e+9; */
    instance->transformer_Sn = 2.22E9F;

    /* ******************************************************* Default initialize tuneable parameters (based on constants): */
    /*
    Initialize variables with explicit start value (independent initializations):
    */

    /* (376:3) self.K0 := 3.0e+1; */
    instance->K0 = 30.0F;

    /* ****************************** Default initialize dependend parameters (based on constants and tuneable parameters): */

    /* (379:3) () := Recalibrate(); */
    Recalibrate(instance);

    /* ***************************************************** Default initialize inputs (based on constants and parameters): */
    /*
    Initialize variables without explicit start value or equation (implicit initializations):
    */

    /* (385:3) self.fault := false; */
    instance->fault = ESP_false;

    /*
    Initialize variables with explicit start value (independent initializations):
    */

    /* (389:3) self.vf := 0.0; */
    instance->vf = 0.0F;

    /* ********************************* Default initialize states and outputs (based on constants, parameters and inputs): */

    /* (392:3) () := Reinitialize(); */
    Reinitialize(instance);
}

static Boolean ESP_cmp_gt(ALGOSTRUCT *instance, Real a, Real b)
{
    /* Output variable */
    Boolean y;

    /* Algorithm */
    if(ESP_isTrue(isNaN(a)) || ESP_isTrue(isNaN(b))) {
        instance->ErrorSignals |= ErrorSignal_NAN;
        y = ESP_false;
    } else {
        y = (a > b) ? ESP_true : ESP_false;
    }

    return y;
}

static Boolean ESP_cmp_lt(ALGOSTRUCT *instance, Real a, Real b)
{
    /* Output variable */
    Boolean y;

    /* Algorithm */
    if(ESP_isTrue(isNaN(a)) || ESP_isTrue(isNaN(b))) {
        instance->ErrorSignals |= ErrorSignal_NAN;
        y = ESP_false;
    } else {
        y = (a < b) ? ESP_true : ESP_false;
    }

    return y;
}

static void DoStep(ALGOSTRUCT *instance)
{
    /* Error signals helpers */
    ErrorSignal ESP_tmp_signals_from_caller = instance->ErrorSignals;
    ErrorSignal ESP_tmp_signals;

    /* Local variable(s) */
    Boolean DymolaConvertInputToREAL0;
    Real DymolaConvertInputToReal0;
    Real B1_p_vi;
    Real B1_p_vr;
    Real B2_p_vi;
    Real B2_p_vr;
    Real G1_P;
    Real G1_Q;
    Real G1_machine_pe;
    Real G1_machine_vd;
    Real G1_machine_vf;
    Real G1_machine_vf_MB;
    Real G1_machine_vq;
    Real L1_p_ii;
    Real L1_p_ir;
    Real pwFault4efmi_p_ii;
    Real pwFault4efmi_p_ir;
    Real transformer_p_ii;
    Real transformer_p_ir;
    Real solution_buffer_for_x_6[6];
    Real _A3[36];
    Integer _pivot5[6];
    Real _work4[6];

    /* Remove signals from caller */
    instance->ErrorSignals = ErrorSignal_NONE;

    /* Algorithm */
    /* *************************************************************************** Update-equations for inline integration: */

    /* (442:3) self.'G1.avr.vm' := self.'G1.avr.vm' + (self.'discrete.stepSize' * self.'derivative(G1.avr.vm)'); */
    instance->G1_avr_vm += instance->discrete_stepSize * instance->der_G1_avr_vm;

    /* (443:3) self.'G1.avr.vr' := self.'G1.avr.vr' + (self.'discrete.stepSize' * self.'derivative(G1.avr.vr)'); */
    instance->G1_avr_vr += instance->discrete_stepSize * instance->der_G1_avr_vr;

    /* (444:3) self.'G1.avr.vf1' := self.'G1.avr.vf1' + (self.'discrete.stepSize' * self.'derivative(G1.avr.vf1)'); */
    instance->G1_avr_vf1 += instance->discrete_stepSize * instance->der_G1_avr_vf1;

    /* (445:3) self.'G1.machine.e1q' := self.'G1.machine.e1q' + (self.'discrete.stepSize' * self.'derivative(G1.machine.e1q)'); */
    instance->G1_machine_e1q += instance->discrete_stepSize * instance->der_G1_machine_e1q;

    /* (446:3) self.'G1.machine.e2q' := self.'G1.machine.e2q' + (self.'discrete.stepSize' * self.'derivative(G1.machine.e2q)'); */
    instance->G1_machine_e2q += instance->discrete_stepSize * instance->der_G1_machine_e2q;

    /* (447:3) self.'G1.machine.w' := self.'G1.machine.w' + (self.'discrete.stepSize' * self.'derivative(G1.machine.w)'); */
    instance->G1_machine_w += instance->discrete_stepSize * instance->der_G1_machine_w;

    /* (448:3) self.'G1.machine.delta' := self.'G1.machine.delta' + (self.'discrete.stepSize' * self.'derivative(G1.machine.delta)'); */
    instance->G1_machine_delta += instance->discrete_stepSize * instance->der_G1_machine_delta;

    /* (449:3) self.'G1.machine.e1d' := self.'G1.machine.e1d' + (self.'discrete.stepSize' * self.'derivative(G1.machine.e1d)'); */
    instance->G1_machine_e1d += instance->discrete_stepSize * instance->der_G1_machine_e1d;

    /* (450:3) self.'G1.machine.e2d' := self.'G1.machine.e2d' + (self.'discrete.stepSize' * self.'derivative(G1.machine.e2d)'); */
    instance->G1_machine_e2d += instance->discrete_stepSize * instance->der_G1_machine_e2d;

    /* ******************************************************************************************* Inline integration loop: */

    /* (453:3) DymolaConvertInputToReal0 := if self.fault then 2.0 else 0.0; */
    DymolaConvertInputToReal0 = ESP_isTrue(instance->fault) ? 2.0F : 0.0F;

    /* (454:3) DymolaConvertInputToREAL0 := DymolaConvertInputToReal0 > 1.0; */
    DymolaConvertInputToREAL0 = ESP_cmp_gt(instance, DymolaConvertInputToReal0, 1.0F);

    /* Solve linear system of equations A*x = b: */

    /* (456:3) 'solution_buffer.for.x[6]' := solveLinearEquations({{(-1.0) * self.'transformer.x', self.'transformer.r', 0.0, 0.0, ((((self.'transformer.m' * self.'transformer.r') * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta'))) - ((self.'transformer.m' * self.'transformer.x') * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta')))) + (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2q')) - (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra'), ((((self.'transformer.m' * self.'transformer.r') * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) + ((self.'transformer.m' * self.'transformer.x') * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) - (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra')) - (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2d')}, {self.'transformer.r', self.'transformer.x', 0.0, 0.0, ((((self.'transformer.m' * self.'transformer.x') * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta'))) + ((self.'transformer.m' * self.'transformer.r') * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta')))) - (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2q')) - (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra'), ((((self.'transformer.m' * self.'transformer.x') * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) - ((self.'transformer.m' * self.'transformer.r') * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.ra')) - (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.x2d')}, {(-1.0) * self.'L1.X', self.'L1.R', self.'L1.R', (-1.0) * self.'L1.X', ((((((self.'transformer.m' * self.'transformer.x') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) - ((self.'transformer.m' * self.'transformer.r') * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) - ((((self.'transformer.m' * self.'transformer.r') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) + ((self.'transformer.m' * self.'transformer.x') * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))))) * self.'G1.machine.x2q') / (self.'transformer.m' ^ 2))) - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2)), (-1.0) * (((((((self.'transformer.m' * self.'transformer.r') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) + ((self.'transformer.m' * self.'transformer.x') * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) + ((((self.'transformer.m' * self.'transformer.x') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X')))) - ((self.'transformer.m' * self.'transformer.r') * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2))) + (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))))) * self.'G1.machine.x2d') / (self.'transformer.m' ^ 2)))}, {self.'L1.R', self.'L1.X', self.'L1.X', self.'L1.R', ((((((self.'transformer.m' * self.'transformer.x') * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) - ((self.'transformer.m' * self.'transformer.r') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) - ((((self.'transformer.m' * self.'transformer.r') * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) + ((self.'transformer.m' * self.'transformer.x') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))))) * self.'G1.machine.x2q') / (self.'transformer.m' ^ 2))) - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2)), (-1.0) * (((((((self.'transformer.m' * self.'transformer.r') * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) + ((self.'transformer.m' * self.'transformer.x') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) + ((((self.'transformer.m' * self.'transformer.x') * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R'))) - ((self.'transformer.m' * self.'transformer.r') * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2))) + (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))))) * self.'G1.machine.x2d') / (self.'transformer.m' ^ 2)))}, {0.0, 0.0, (-1.0) * self.'L2.R', self.'L2.X', ((((((self.'transformer.m' * self.'transformer.x') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'transformer.m' * self.'transformer.r') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta'))) + ((((self.'transformer.m' * self.'transformer.x') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) + ((self.'transformer.m' * self.'transformer.r') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))))) * self.'G1.machine.x2q') / (self.'transformer.m' ^ 2))) - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) - ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2)), ((((((self.'transformer.m' * self.'transformer.x') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'transformer.m' * self.'transformer.r') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) - ((((self.'transformer.m' * self.'transformer.x') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))) + ((self.'transformer.m' * self.'transformer.r') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) - (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2))) - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) - ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))))) * self.'G1.machine.x2d') / (self.'transformer.m' ^ 2))}, {0.0, 0.0, (-1.0) * self.'L2.X', (-1.0) * self.'L2.R', ((((((self.'transformer.m' * self.'transformer.x') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'transformer.m' * self.'transformer.r') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) - ((((self.'transformer.m' * self.'transformer.r') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) + ((self.'transformer.m' * self.'transformer.x') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))))) * self.'G1.machine.x2q') / (self.'transformer.m' ^ 2))) - (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2)), (-1.0) * (((((((self.'transformer.m' * self.'transformer.r') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) + ((self.'transformer.m' * self.'transformer.x') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.I_MBtoSB' * sin(self.'G1.machine.delta'))) + ((((self.'transformer.m' * self.'transformer.x') * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))) - ((self.'transformer.m' * self.'transformer.r') * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) * (self.'G1.machine.I_MBtoSB' * cos(self.'G1.machine.delta')))) + (((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))))) * self.'G1.machine.ra') / (self.'transformer.m' ^ 2))) + (((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))))) * self.'G1.machine.x2d') / (self.'transformer.m' ^ 2)))}}, {(-1.0) * ((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.e2d') + (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.e2q')), (((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.e2d') - (((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * ((1.0 / self.'transformer.m') + (((-1.0) * self.'transformer.m') / (self.'transformer.m' ^ 2)))) * self.'G1.machine.e2q'), self.'B3.p.vr' - ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))))) * self.'G1.machine.e2d') + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) - (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.X'))))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.R') - ((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')))))) * self.'G1.machine.e2q')) / (self.'transformer.m' ^ 2)), self.'B3.p.vi' - ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))))) * self.'G1.machine.e2d') + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (((self.'L1.R' * self.'L1.B') + (self.'L1.X' * self.'L1.G')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true -2.22e+3 else 0.0 * self.'L1.R')))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + (((self.'L1.R' * self.'L1.G') - (self.'L1.X' * self.'L1.B')) + (if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 else 0.0 * self.'L1.X')))))) * self.'G1.machine.e2q')) / (self.'transformer.m' ^ 2)), self.'B3.p.vr' - ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) + ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))))) * self.'G1.machine.e2d') + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B'))))) - ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G'))))) * self.'G1.machine.e2q')) / (self.'transformer.m' ^ 2)), self.'B3.p.vi' - ((((((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) - ((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))))) * self.'G1.machine.e2d') + ((((self.'G1.machine.V_MBtoSB' * cos(self.'G1.machine.delta')) * (self.'transformer.m' * ((self.'L2.R' * self.'L2.B') + (self.'L2.X' * self.'L2.G')))) + ((self.'G1.machine.V_MBtoSB' * sin(self.'G1.machine.delta')) * (self.'transformer.m' * (1.0 + ((self.'L2.R' * self.'L2.G') - (self.'L2.X' * self.'L2.B')))))) * self.'G1.machine.e2q')) / (self.'transformer.m' ^ 2))}); */
    _A3[0] = (-1.0F) * instance->transformer_x;
    _A3[1] = instance->transformer_r;
    _A3[2] = 0.0F;
    _A3[3] = 0.0F;
    _A3[4] = (((instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) \
        - (instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta)))) \
        + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) \
        * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_x2q)) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) * instance->transformer_m) \
        / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra);
    _A3[5] = ((instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) \
        + (instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)))) \
        - (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) \
        * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) * instance->transformer_m) \
        / (ESP_square(instance->transformer_m)))) * instance->G1_machine_x2d);
    _A3[6] = instance->transformer_r;
    _A3[7] = instance->transformer_x;
    _A3[8] = 0.0F;
    _A3[9] = 0.0F;
    _A3[10] = ((instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) \
        + (instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta)))) \
        - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) \
        * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_x2q) - (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) * instance->transformer_m) \
        / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra);
    _A3[11] = (((instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) \
        - (instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)))) \
        + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) \
        * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_ra)) - (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) * instance->transformer_m) \
        / (ESP_square(instance->transformer_m)))) * instance->G1_machine_x2d);
    _A3[12] = (-1.0F) * instance->L1_X;
    _A3[13] = instance->L1_R;
    _A3[14] = instance->L1_R;
    _A3[15] = (-1.0F) * instance->L1_X;
    _A3[16] = (((((instance->transformer_m * instance->transformer_x * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X \
        * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X)))) - (instance->transformer_m \
        * instance->transformer_r * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F \
        : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) \
        - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) * (instance->G1_machine_I_MBtoSB * \
        ESP_sin(instance->G1_machine_delta))) - (((instance->transformer_m * instance->transformer_r * (1.0F + ((instance->L1_R \
        * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_X)))) + (instance->transformer_m * instance->transformer_x * (((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) \
        * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)))) + ((((instance->G1_machine_V_MBtoSB * \
        ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X \
        * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))))) * instance->G1_machine_x2q) \
        / (ESP_square(instance->transformer_m)))) - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? \
        0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) \
        - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))))) * instance->G1_machine_ra) / (ESP_square(instance->transformer_m)));
    _A3[17] = (-1.0F) * ((((instance->transformer_m * instance->transformer_r * (1.0F + ((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X)))) \
        + (instance->transformer_m * instance->transformer_x * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) * (instance->G1_machine_I_MBtoSB \
        * ESP_sin(instance->G1_machine_delta))) + (((instance->transformer_m * instance->transformer_x * (1.0F + ((instance->L1_R \
        * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_X)))) - (instance->transformer_m * instance->transformer_r * (((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G))))) \
        * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) + ((((instance->G1_machine_V_MBtoSB * \
        ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X \
        * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) \
        * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))))) * instance->G1_machine_ra) \
        / (ESP_square(instance->transformer_m))) + ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? \
        0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) \
        - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))))) * instance->G1_machine_x2d) / (ESP_square(instance->transformer_m))));
    _A3[18] = instance->L1_R;
    _A3[19] = instance->L1_X;
    _A3[20] = instance->L1_X;
    _A3[21] = instance->L1_R;
    _A3[22] = (((((instance->transformer_m * instance->transformer_x * ((instance->L1_R * instance->L1_B) + (instance->L1_X \
        * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R))) - (instance->transformer_m \
        * instance->transformer_r * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + \
        ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))))) * (instance->G1_machine_I_MBtoSB \
        * ESP_sin(instance->G1_machine_delta))) - (((instance->transformer_m * instance->transformer_r * ((instance->L1_R \
        * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R))) + (instance->transformer_m * instance->transformer_x * (1.0F + (((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))))) \
        * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)))) + ((((instance->G1_machine_V_MBtoSB * \
        ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L1_R * instance->L1_B) + (instance->L1_X \
        * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)))) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + (((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))))) \
        * instance->G1_machine_x2q) / (ESP_square(instance->transformer_m)))) - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + \
        ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))))) * instance->G1_machine_ra) \
        / (ESP_square(instance->transformer_m)));
    _A3[23] = (-1.0F) * ((((instance->transformer_m * instance->transformer_r * ((instance->L1_R * instance->L1_B) + (instance->L1_X \
        * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R))) + (instance->transformer_m \
        * instance->transformer_x * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + \
        ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))))) * (instance->G1_machine_I_MBtoSB \
        * ESP_sin(instance->G1_machine_delta))) + (((instance->transformer_m * instance->transformer_x * ((instance->L1_R \
        * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R))) - (instance->transformer_m * instance->transformer_r * (1.0F + (((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X))))) \
        * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) + ((((instance->G1_machine_V_MBtoSB * \
        ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L1_R * instance->L1_B) + (instance->L1_X \
        * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)))) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + (((instance->L1_R * instance->L1_G) \
        - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))))) \
        * instance->G1_machine_ra) / (ESP_square(instance->transformer_m))) + ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + \
        ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))))) * instance->G1_machine_x2d) \
        / (ESP_square(instance->transformer_m))));
    _A3[24] = 0.0F;
    _A3[25] = 0.0F;
    _A3[26] = (-1.0F) * instance->L2_R;
    _A3[27] = instance->L2_X;
    _A3[28] = ((((instance->transformer_m * instance->transformer_x * ((instance->L2_R * instance->L2_B) + (instance->L2_X \
        * instance->L2_G))) - (instance->transformer_m * instance->transformer_r * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) \
        + (((instance->transformer_m * instance->transformer_x * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X \
        * instance->L2_B)))) + (instance->transformer_m * instance->transformer_r * ((instance->L2_R * instance->L2_B) \
        + (instance->L2_X * instance->L2_G)))) * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) \
        + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + \
        ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))))) * instance->G1_machine_x2q) \
        / (ESP_square(instance->transformer_m)))) - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) \
        - (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L2_R \
        * instance->L2_B) + (instance->L2_X * instance->L2_G))))) * instance->G1_machine_ra) / (ESP_square(instance->transformer_m)));
    _A3[29] = (((instance->transformer_m * instance->transformer_x * ((instance->L2_R * instance->L2_B) + (instance->L2_X \
        * instance->L2_G))) - (instance->transformer_m * instance->transformer_r * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) \
        - (((instance->transformer_m * instance->transformer_x * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X \
        * instance->L2_B)))) + (instance->transformer_m * instance->transformer_r * ((instance->L2_R * instance->L2_B) \
        + (instance->L2_X * instance->L2_G)))) * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) \
        - ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + \
        ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))))) * instance->G1_machine_ra) \
        / (ESP_square(instance->transformer_m))) - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) \
        - (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L2_R \
        * instance->L2_B) + (instance->L2_X * instance->L2_G))))) * instance->G1_machine_x2d) / (ESP_square(instance->transformer_m)));
    _A3[30] = 0.0F;
    _A3[31] = 0.0F;
    _A3[32] = (-1.0F) * instance->L2_X;
    _A3[33] = (-1.0F) * instance->L2_R;
    _A3[34] = (((((instance->transformer_m * instance->transformer_x * ((instance->L2_R * instance->L2_B) + (instance->L2_X \
        * instance->L2_G))) - (instance->transformer_m * instance->transformer_r * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) \
        - (((instance->transformer_m * instance->transformer_r * ((instance->L2_R * instance->L2_B) + (instance->L2_X * \
        instance->L2_G))) + (instance->transformer_m * instance->transformer_x * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta)))) \
        + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L2_R \
        * instance->L2_B) + (instance->L2_X * instance->L2_G)))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B)))))) \
        * instance->G1_machine_x2q) / (ESP_square(instance->transformer_m)))) - ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) + (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - \
        (instance->L2_X * instance->L2_B)))))) * instance->G1_machine_ra) / (ESP_square(instance->transformer_m)));
    _A3[35] = (-1.0F) * ((((instance->transformer_m * instance->transformer_r * ((instance->L2_R * instance->L2_B) + (instance->L2_X \
        * instance->L2_G))) + (instance->transformer_m * instance->transformer_x * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_I_MBtoSB * ESP_sin(instance->G1_machine_delta))) \
        + (((instance->transformer_m * instance->transformer_x * ((instance->L2_R * instance->L2_B) + (instance->L2_X * \
        instance->L2_G))) - (instance->transformer_m * instance->transformer_r * (1.0F + ((instance->L2_R * instance->L2_G) \
        - (instance->L2_X * instance->L2_B))))) * (instance->G1_machine_I_MBtoSB * ESP_cos(instance->G1_machine_delta))) \
        + ((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L2_R \
        * instance->L2_B) + (instance->L2_X * instance->L2_G)))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B)))))) \
        * instance->G1_machine_ra) / (ESP_square(instance->transformer_m))) + ((((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) + (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - \
        (instance->L2_X * instance->L2_B)))))) * instance->G1_machine_x2d) / (ESP_square(instance->transformer_m))));
    solution_buffer_for_x_6[0] = (-1.0F) * ((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F \
        / instance->transformer_m) + (((-1.0F) * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_e2d) \
        + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) \
        * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_e2q));
    solution_buffer_for_x_6[1] = (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) \
        + (((-1.0F) * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_e2d) - \
        (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * ((1.0F / instance->transformer_m) + (((-1.0F) \
        * instance->transformer_m) / (ESP_square(instance->transformer_m)))) * instance->G1_machine_e2q);
    solution_buffer_for_x_6[2] = instance->B3_p_vr - (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? \
        0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) \
        - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))))) * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L1_R * instance->L1_G) - \
        (instance->L1_X * instance->L1_B) - ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) \
        ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_X))))) \
        + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_R) - ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G)))))) \
        * instance->G1_machine_e2q)) / (ESP_square(instance->transformer_m)));
    solution_buffer_for_x_6[3] = instance->B3_p_vi - (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_R * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? (-2220.0F) : 0.0F) * instance->L1_R)))) - (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + \
        ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))))) * instance->G1_machine_e2d) \
        + (((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L1_R \
        * instance->L1_B) + (instance->L1_X * instance->L1_G) + ((ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_true)) ? (-2220.0F) : \
        0.0F) * instance->L1_R)))) + (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m \
        * (1.0F + (((instance->L1_R * instance->L1_G) - (instance->L1_X * instance->L1_B)) + ((ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), \
        ESP_true)) ? 2220.0F : 0.0F) * instance->L1_X)))))) * instance->G1_machine_e2q)) / (ESP_square(instance->transformer_m)));
    solution_buffer_for_x_6[4] = instance->B3_p_vr - (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - (instance->L2_X * instance->L2_B))))) \
        + (instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * ((instance->L2_R \
        * instance->L2_B) + (instance->L2_X * instance->L2_G))))) * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - \
        (instance->L2_X * instance->L2_B))))) - (instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) * \
        (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G))))) * instance->G1_machine_e2q)) \
        / (ESP_square(instance->transformer_m)));
    solution_buffer_for_x_6[5] = instance->B3_p_vi - (((((instance->G1_machine_V_MBtoSB * ESP_sin(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) - (instance->G1_machine_V_MBtoSB \
        * ESP_cos(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - \
        (instance->L2_X * instance->L2_B)))))) * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB * ESP_cos(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_R * instance->L2_B) + (instance->L2_X * instance->L2_G)))) + (instance->G1_machine_V_MBtoSB \
        * ESP_sin(instance->G1_machine_delta) * (instance->transformer_m * (1.0F + ((instance->L2_R * instance->L2_G) - \
        (instance->L2_X * instance->L2_B)))))) * instance->G1_machine_e2q)) / (ESP_square(instance->transformer_m)));
    instance->ErrorSignals |= ESP_solveLinearEquations(6, _A3, solution_buffer_for_x_6, _pivot5, _work4);

    /* A matrix: */
    /* Row 1: */
    /* Row 2: */
    /* Row 3: */
    /* Row 4: */
    /* Row 5: */
    /* Row 6: */
    /* b vector: */

    /* (474:3) if signal in SOLVE_LINEAR_EQUATIONS_FAILED then... */
    ESP_tmp_signals = instance->ErrorSignals & ErrorSignal_SOLVE_LINEAR_EQUATIONS_FAILED;
    if(ESP_tmp_signals != ErrorSignal_NONE) {
        instance->ErrorSignals ^= ESP_tmp_signals;
        /* Propagate error but leave states as they are: */

        /* (476:4) signal SOLVE_LINEAR_EQUATIONS_FAILED */
        instance->ErrorSignals |= ErrorSignal_SOLVE_LINEAR_EQUATIONS_FAILED;
    } else {
        /* Only if the system can be solved, assign computed states: */

        /* (479:4) self.'transformer.n.ii' := 'solution_buffer.for.x[6]'[1]; */
        instance->transformer_n_ii = solution_buffer_for_x_6[0];

        /* (480:4) self.'transformer.n.ir' := 'solution_buffer.for.x[6]'[2]; */
        instance->transformer_n_ir = solution_buffer_for_x_6[1];

        /* (481:4) self.'L2.p.ir' := 'solution_buffer.for.x[6]'[3]; */
        instance->L2_p_ir = solution_buffer_for_x_6[2];

        /* (482:4) self.'L2.p.ii' := 'solution_buffer.for.x[6]'[4]; */
        instance->L2_p_ii = solution_buffer_for_x_6[3];

        /* (483:4) self.'G1.machine.iq' := 'solution_buffer.for.x[6]'[5]; */
        instance->G1_machine_iq = solution_buffer_for_x_6[4];

        /* (484:4) self.'G1.machine.id' := 'solution_buffer.for.x[6]'[6]; */
        instance->G1_machine_id = solution_buffer_for_x_6[5];
    }

    /* (486:3) 'transformer.p.ir' := self.'G1.machine.I_MBtoSB' * ((sin(self.'G1.machine.delta') * self.'G1.machine.id') + (cos(self.'G1.machine.delta') * self.'G1.machine.iq')); */
    transformer_p_ir = instance->G1_machine_I_MBtoSB * ((ESP_sin(instance->G1_machine_delta) * instance->G1_machine_id) \
        + (ESP_cos(instance->G1_machine_delta) * instance->G1_machine_iq));

    /* (487:3) 'transformer.p.ii' := self.'G1.machine.I_MBtoSB' * ((sin(self.'G1.machine.delta') * self.'G1.machine.iq') - (cos(self.'G1.machine.delta') * self.'G1.machine.id')); */
    transformer_p_ii = instance->G1_machine_I_MBtoSB * ((ESP_sin(instance->G1_machine_delta) * instance->G1_machine_iq) \
        - (ESP_cos(instance->G1_machine_delta) * instance->G1_machine_id));

    /* (488:3) 'G1.machine.vd' := (self.'G1.machine.e2d' - (self.'G1.machine.ra' * self.'G1.machine.id')) + (self.'G1.machine.x2q' * self.'G1.machine.iq'); */
    G1_machine_vd = (instance->G1_machine_e2d - (instance->G1_machine_ra * instance->G1_machine_id)) + (instance->G1_machine_x2q \
        * instance->G1_machine_iq);

    /* (489:3) 'G1.machine.vq' := self.'G1.machine.e2q' - ((self.'G1.machine.ra' * self.'G1.machine.iq') + (self.'G1.machine.x2d' * self.'G1.machine.id')); */
    G1_machine_vq = instance->G1_machine_e2q - ((instance->G1_machine_ra * instance->G1_machine_iq) + (instance->G1_machine_x2d \
        * instance->G1_machine_id));

    /* (490:3) 'B1.p.vr' := self.'G1.machine.V_MBtoSB' * ((sin(self.'G1.machine.delta') * 'G1.machine.vd') + (cos(self.'G1.machine.delta') * 'G1.machine.vq')); */
    B1_p_vr = instance->G1_machine_V_MBtoSB * ((ESP_sin(instance->G1_machine_delta) * G1_machine_vd) + (ESP_cos(instance->G1_machine_delta) \
        * G1_machine_vq));

    /* (491:3) 'B2.p.vr' := ((('B1.p.vr' / (self.'transformer.m' ^ 2)) - (self.'transformer.r' * 'transformer.p.ir')) + (self.'transformer.x' * 'transformer.p.ii')) * self.'transformer.m'; */
    B2_p_vr = (((B1_p_vr / (ESP_square(instance->transformer_m))) - (instance->transformer_r * transformer_p_ir)) + (instance->transformer_x \
        * transformer_p_ii)) * instance->transformer_m;

    /* (492:3) 'pwFault4efmi.p.ii' := if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true (-2.22e+3) * 'B2.p.vr' else 0.0; */
    pwFault4efmi_p_ii = ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? ((-2220.0F) * B2_p_vr) : 0.0F;

    /* (493:3) 'B1.p.vi' := self.'G1.machine.V_MBtoSB' * ((sin(self.'G1.machine.delta') * 'G1.machine.vq') - (cos(self.'G1.machine.delta') * 'G1.machine.vd')); */
    B1_p_vi = instance->G1_machine_V_MBtoSB * ((ESP_sin(instance->G1_machine_delta) * G1_machine_vq) - (ESP_cos(instance->G1_machine_delta) \
        * G1_machine_vd));

    /* (494:3) 'B2.p.vi' := (('B1.p.vi' / (self.'transformer.m' ^ 2)) - ((self.'transformer.r' * 'transformer.p.ii') + (self.'transformer.x' * 'transformer.p.ir'))) * self.'transformer.m'; */
    B2_p_vi = ((B1_p_vi / (ESP_square(instance->transformer_m))) - ((instance->transformer_r * transformer_p_ii) + (instance->transformer_x \
        * transformer_p_ir))) * instance->transformer_m;

    /* (495:3) 'pwFault4efmi.p.ir' := if real(DymolaConvertInputToREAL0) == false then 0.0 elseif real(DymolaConvertInputToREAL0) == true 2.22e+3 * 'B2.p.vi' else 0.0; */
    pwFault4efmi_p_ir = ESP_isTrue(ESP_cmp_eq(instance, real(DymolaConvertInputToREAL0), ESP_false)) ? 0.0F : ESP_isTrue(ESP_cmp_eq(instance, \
        real(DymolaConvertInputToREAL0), ESP_true)) ? (2220.0F * B2_p_vi) : 0.0F;

    /* (496:3) 'L1.p.ir' := (-1.0) * ((self.'L2.p.ir' + 'pwFault4efmi.p.ir') + self.'transformer.n.ir'); */
    L1_p_ir = (-1.0F) * (instance->L2_p_ir + pwFault4efmi_p_ir + instance->transformer_n_ir);

    /* (497:3) 'L1.p.ii' := (-1.0) * ((self.'L2.p.ii' + 'pwFault4efmi.p.ii') + self.'transformer.n.ii'); */
    L1_p_ii = (-1.0F) * (instance->L2_p_ii + pwFault4efmi_p_ii + instance->transformer_n_ii);

    /* (498:3) self.v := sqrt(('B1.p.vr' ^ 2) + ('B1.p.vi' ^ 2)); */
    instance->v = ESP_sqrt((ESP_square(B1_p_vr)) + (ESP_square(B1_p_vi)));

    /* (499:3) self.'derivative(G1.avr.vm)' := (self.v - self.'G1.avr.vm') / self.'G1.avr.Tr'; */
    instance->der_G1_avr_vm = (instance->v - instance->G1_avr_vm) / instance->G1_avr_Tr;

    /* (500:3) self.'derivative(G1.avr.vr)' := (((self.K0 * (1.0 - (self.'G1.avr.T1' / self.'G1.avr.T2'))) * ((self.'G1.avr.vref' + self.vf) - self.'G1.avr.vm')) - self.'G1.avr.vr') / self.'G1.avr.T2'; */
    instance->der_G1_avr_vr = ((instance->K0 * (1.0F - (instance->G1_avr_T1 / instance->G1_avr_T2)) * ((instance->G1_avr_vref \
        + instance->vf) - instance->G1_avr_vm)) - instance->G1_avr_vr) / instance->G1_avr_T2;

    /* (501:3) self.'derivative(G1.avr.vf1)' := ((((self.'G1.avr.vr' + (((self.K0 * self.'G1.avr.T1') * ((self.'G1.avr.vref' + self.vf) - self.'G1.avr.vm')) / self.'G1.avr.T2')) + self.'G1.machine.vf00') * (1.0 + (self.'G1.avr.s0' * ((self.v / self.'G1.avr.vm') - 1.0)))) - self.'G1.avr.vf1') / self.'G1.avr.Te'; */
    instance->der_G1_avr_vf1 = (((instance->G1_avr_vr + ((instance->K0 * instance->G1_avr_T1 * ((instance->G1_avr_vref \
        + instance->vf) - instance->G1_avr_vm)) / instance->G1_avr_T2) + instance->G1_machine_vf00) * (1.0F + (instance->G1_avr_s0 \
        * ((instance->v / instance->G1_avr_vm) - 1.0F)))) - instance->G1_avr_vf1) / instance->G1_avr_Te;

    /* (502:3) 'G1.machine.vf' := if self.'G1.avr.vf1' > self.'G1.avr.vfmax' then self.'G1.avr.vfmax' elseif self.'G1.avr.vf1' < self.'G1.avr.vfmin' self.'G1.avr.vfmin' else self.'G1.avr.vf1'; */
    G1_machine_vf = ESP_isTrue(ESP_cmp_gt(instance, instance->G1_avr_vf1, instance->G1_avr_vfmax)) ? instance->G1_avr_vfmax \
        : ESP_isTrue(ESP_cmp_lt(instance, instance->G1_avr_vf1, instance->G1_avr_vfmin)) ? instance->G1_avr_vfmin : instance->G1_avr_vf1;

    /* (503:3) 'G1.machine.vf_MB' := ('G1.machine.vf' * self.'G1.V_b') / self.'G1.machine.Vn'; */
    G1_machine_vf_MB = (G1_machine_vf * instance->G1_V_b) / instance->G1_machine_Vn;

    /* (504:3) self.'derivative(G1.machine.e1q)' := (((1.0 - (self.'G1.machine.Taa' / self.'G1.machine.T1d0')) * 'G1.machine.vf_MB') - (self.'G1.machine.e1q' + (((self.'G1.machine.xd' - self.'G1.machine.x1d') - ((((self.'G1.machine.T2d0' * self.'G1.machine.x2d') * (self.'G1.machine.xd' - self.'G1.machine.x1d')) / self.'G1.machine.T1d0') / self.'G1.machine.x1d')) * self.'G1.machine.id'))) / self.'G1.machine.T1d0'; */
    instance->der_G1_machine_e1q = (((1.0F - (instance->G1_machine_Taa / instance->G1_machine_T1d0)) * G1_machine_vf_MB) \
        - (instance->G1_machine_e1q + ((instance->G1_machine_xd - instance->G1_machine_x1d - ((instance->G1_machine_T2d0 \
        * instance->G1_machine_x2d * (instance->G1_machine_xd - instance->G1_machine_x1d)) / instance->G1_machine_T1d0 \
        / instance->G1_machine_x1d)) * instance->G1_machine_id))) / instance->G1_machine_T1d0;

    /* (505:3) self.'derivative(G1.machine.e2q)' := (((self.'G1.machine.e1q' - self.'G1.machine.e2q') - (((self.'G1.machine.x1d' - self.'G1.machine.x2d') + ((((self.'G1.machine.T2d0' * self.'G1.machine.x2d') * (self.'G1.machine.xd' - self.'G1.machine.x1d')) / self.'G1.machine.T1d0') / self.'G1.machine.x1d')) * self.'G1.machine.id')) + ((self.'G1.machine.Taa' * 'G1.machine.vf_MB') / self.'G1.machine.T1d0')) / self.'G1.machine.T2d0'; */
    instance->der_G1_machine_e2q = ((instance->G1_machine_e1q - instance->G1_machine_e2q - (((instance->G1_machine_x1d \
        - instance->G1_machine_x2d) + ((instance->G1_machine_T2d0 * instance->G1_machine_x2d * (instance->G1_machine_xd \
        - instance->G1_machine_x1d)) / instance->G1_machine_T1d0 / instance->G1_machine_x1d)) * instance->G1_machine_id)) \
        + ((instance->G1_machine_Taa * G1_machine_vf_MB) / instance->G1_machine_T1d0)) / instance->G1_machine_T2d0;

    /* (506:3) 'G1.machine.pe' := (('G1.machine.vq' + (self.'G1.machine.ra' * self.'G1.machine.iq')) * self.'G1.machine.iq') + (('G1.machine.vd' + (self.'G1.machine.ra' * self.'G1.machine.id')) * self.'G1.machine.id'); */
    G1_machine_pe = ((G1_machine_vq + (instance->G1_machine_ra * instance->G1_machine_iq)) * instance->G1_machine_iq) + \
        ((G1_machine_vd + (instance->G1_machine_ra * instance->G1_machine_id)) * instance->G1_machine_id);

    /* (507:3) self.'derivative(G1.machine.w)' := ((self.'G1.machine.pm00' * self.'G1.machine.S_SBtoMB') - 'G1.machine.pe') / self.'G1.machine.M'; */
    instance->der_G1_machine_w = ((instance->G1_machine_pm00 * instance->G1_machine_S_SBtoMB) - G1_machine_pe) / instance->G1_machine_M;

    /* (508:3) self.'derivative(G1.machine.delta)' := self.'G1.machine.w_b' * (self.'G1.machine.w' - 1.0); */
    instance->der_G1_machine_delta = instance->G1_machine_w_b * (instance->G1_machine_w - 1.0F);

    /* (509:3) self.'derivative(G1.machine.e1d)' := ((((self.'G1.machine.xq' - self.'G1.machine.x1q') - ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')) * self.'G1.machine.iq') - self.'G1.machine.e1d') / self.'G1.machine.T1q0'; */
    instance->der_G1_machine_e1d = (((instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)) * instance->G1_machine_iq) - instance->G1_machine_e1d) / instance->G1_machine_T1q0;

    /* (510:3) self.'derivative(G1.machine.e2d)' := ((self.'G1.machine.e1d' - self.'G1.machine.e2d') + (((self.'G1.machine.x1q' - self.'G1.machine.x2q') + ((((self.'G1.machine.T2q0' * self.'G1.machine.x2q') * (self.'G1.machine.xq' - self.'G1.machine.x1q')) / self.'G1.machine.T1q0') / self.'G1.machine.x1q')) * self.'G1.machine.iq')) / self.'G1.machine.T2q0'; */
    instance->der_G1_machine_e2d = ((instance->G1_machine_e1d - instance->G1_machine_e2d) + (((instance->G1_machine_x1q \
        - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q * (instance->G1_machine_xq \
        - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)) * instance->G1_machine_iq)) \
        / instance->G1_machine_T2q0;

    /* ******************************************************************************** Inline integration post-processing: */

    /* (513:3) self.w := self.'G1.machine.w'; */
    instance->w = instance->G1_machine_w;

    /* (514:3) 'G1.P' := (('B1.p.vr' * 'transformer.p.ir') + ('B1.p.vi' * 'transformer.p.ii')) * self.'SysData.S_b'; */
    G1_P = ((B1_p_vr * transformer_p_ir) + (B1_p_vi * transformer_p_ii)) * instance->SysData_S_b;

    /* (515:3) self.Pgen := 'G1.P' / max(self.'SysData.S_b', 9.9999999999999997e-61); */
    instance->Pgen = G1_P / ESP_max(instance->SysData_S_b, 0.0F);

    /* (516:3) 'G1.Q' := (-1.0) * ((('B1.p.vr' * 'transformer.p.ii') - ('B1.p.vi' * 'transformer.p.ir')) * self.'SysData.S_b'); */
    G1_Q = (-1.0F) * (((B1_p_vr * transformer_p_ii) - (B1_p_vi * transformer_p_ir)) * instance->SysData_S_b);

    /* (517:3) self.Qgen := 'G1.Q' / max(self.'SysData.S_b', 9.9999999999999997e-61); */
    instance->Qgen = G1_Q / ESP_max(instance->SysData_S_b, 0.0F);

    /* Restore signals from caller */
    instance->ErrorSignals |= ESP_tmp_signals_from_caller;
}

/**********************************************************************************************************************
 * init
 **********************************************************************************************************************/
void Startup_H283cd02180511b024b59731032fd3290f8675b29_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) {
    instance->ErrorSignals = ErrorSignal_NONE;
    Startup(instance);
}

/**********************************************************************************************************************
 * step
 **********************************************************************************************************************/
void DoStep_H283cd02180511b024b59731032fd3290f8675b29_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) {
    instance->ErrorSignals = ErrorSignal_NONE;
    DoStep(instance);
}

/**********************************************************************************************************************
 * recalibrate
 **********************************************************************************************************************/
void Recalibrate_H283cd02180511b024b59731032fd3290f8675b29_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) \
    {
    instance->ErrorSignals = ErrorSignal_NONE;
    Recalibrate(instance);
}

/**********************************************************************************************************************
 * reinitialize
 **********************************************************************************************************************/
void Reinitialize_H283cd02180511b024b59731032fd3290f8675b29_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) \
    {
    instance->ErrorSignals = ErrorSignal_NONE;
    Reinitialize(instance);
}

#ifdef __cplusplus
}
#endif

/* end of file */
