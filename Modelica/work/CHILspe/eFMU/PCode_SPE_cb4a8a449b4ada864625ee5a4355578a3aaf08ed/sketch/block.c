/*2026-01-14T21:37:48.335216966Z*/

/**********************************************************************************************************************
 * block.c
 *
 * generated by : dymola-embedded/MEI_SII_CodeGen 1.0.0
 *
 * with extra comments for :
 *   Code     = true
 *   Location = true
 *
 * with optimizations for :
 *   Indexing = true
 *   Parenth. = true (Misra compatible)
 *   Id. len  = -1
 *   Tab size = 4
 *   Line len = 120
 **********************************************************************************************************************/

#include "block.h"

#ifdef __cplusplus
extern "C" {
#endif

#define ALGOSTRUCT  BlockState_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed


/**********************************************************************************************************************
 * Prototypes
 **********************************************************************************************************************/
static void Recalibrate(ALGOSTRUCT *instance);
static void Reinitialize(ALGOSTRUCT *instance);
static void Startup(ALGOSTRUCT *instance);
static void DoStep(ALGOSTRUCT *instance);

/**********************************************************************************************************************
 * User function(s)
 **********************************************************************************************************************/
static void Recalibrate(ALGOSTRUCT *instance)
{
    /* Algorithm */
    /*
    Initialize variables with start value equation (dependent initializations):
    */

    instance->transformer_S_b = instance->SysData_S_b;

    instance->transformer_Zn = (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_Vn)) \
        / instance->transformer_Sn;

    instance->transformer_Zb = (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_V_b)) \
        / instance->transformer_S_b;

    instance->transformer_r = (instance->transformer_rT * instance->transformer_Zn) / instance->transformer_Zb;

    instance->transformer_x = (instance->transformer_xT * instance->transformer_Zn) / instance->transformer_Zb;

    instance->L1_Y_re = instance->L1_G;

    instance->L1_Y_im = instance->L1_B;

    instance->L1_Z_re = instance->L1_R;

    instance->L1_Z_im = instance->L1_X;

    instance->L2_Y_re = instance->L2_G;

    instance->L2_Y_im = instance->L2_B;

    instance->L2_Z_re = instance->L2_R;

    instance->L2_Z_im = instance->L2_X;

    instance->G1_S_b = instance->SysData_S_b;

    instance->G1_machine_S_b = instance->SysData_S_b;

    instance->G1_machine_V_b = instance->G1_V_b;

    instance->G1_machine_fn = instance->SysData_fn;

    instance->G1_machine_P_0 = instance->G1_P_0;

    instance->G1_machine_Q_0 = instance->G1_Q_0;

    instance->G1_machine_v_0 = instance->G1_v_0;

    instance->G1_machine_angle_0 = instance->G1_angle_0;

    instance->G1_machine_w_b = 6.28318530717958623 * instance->G1_machine_fn;

    instance->G1_machine_S_SBtoMB = instance->G1_machine_S_b / instance->G1_machine_Sn;

    instance->G1_machine_I_MBtoSB = (instance->G1_machine_Sn * instance->G1_machine_V_b) / (instance->G1_machine_S_b * \
        instance->G1_machine_Vn);

    instance->G1_machine_V_MBtoSB = instance->G1_machine_Vn / instance->G1_machine_V_b;

    instance->G1_machine_Z_MBtoSB = (instance->G1_machine_S_b * (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_Vn))) \
        / (instance->G1_machine_Sn * (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_V_b)));

    instance->G1_machine_p0 = instance->G1_machine_P_0 / instance->G1_machine_S_b;

    instance->G1_machine_q0 = instance->G1_machine_Q_0 / instance->G1_machine_S_b;

    instance->G1_machine_Vt0_re = instance->G1_machine_v_0 * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_angle_0);

    instance->G1_machine_Vt0_im = instance->G1_machine_v_0 * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_angle_0);

    instance->G1_machine_S0_re = instance->G1_machine_p0;

    instance->G1_machine_S0_im = (-1.0) * instance->G1_machine_q0;

    instance->G1_machine_I0_re = ((instance->G1_machine_S0_re * instance->G1_machine_Vt0_re) - (instance->G1_machine_S0_im \
        * instance->G1_machine_Vt0_im)) / ((instance->G1_machine_Vt0_re * instance->G1_machine_Vt0_re) + (instance->G1_machine_Vt0_im \
        * instance->G1_machine_Vt0_im));

    instance->G1_machine_I0_im = ((instance->G1_machine_S0_re * instance->G1_machine_Vt0_im) + (instance->G1_machine_S0_im \
        * instance->G1_machine_Vt0_re)) / ((instance->G1_machine_Vt0_re * instance->G1_machine_Vt0_re) + (instance->G1_machine_Vt0_im \
        * instance->G1_machine_Vt0_im));

    instance->G1_machine_xq0 = instance->G1_machine_xq;

    instance->G1_machine_auxCMval_re = instance->G1_machine_Vt0_re + ((instance->G1_machine_ra * instance->G1_machine_Z_MBtoSB \
        * instance->G1_machine_I0_re) - (instance->G1_machine_xq0 * instance->G1_machine_Z_MBtoSB * instance->G1_machine_I0_im));

    instance->G1_machine_auxCMval_im = instance->G1_machine_Vt0_im + ((instance->G1_machine_ra * instance->G1_machine_Z_MBtoSB \
        * instance->G1_machine_I0_im) + (instance->G1_machine_xq0 * instance->G1_machine_Z_MBtoSB * instance->G1_machine_I0_re));

    instance->G1_machine_delta0 = SPE_atan2_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_auxCMval_im, \
        instance->G1_machine_auxCMval_re);

    instance->G1_machine_Vdq0_re = ((instance->G1_machine_Vt0_re * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0)) - (instance->G1_machine_Vt0_im * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0))) / instance->G1_machine_V_MBtoSB;

    instance->G1_machine_Vdq0_im = ((instance->G1_machine_Vt0_re * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0)) + (instance->G1_machine_Vt0_im * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0))) / instance->G1_machine_V_MBtoSB;

    instance->G1_machine_Idq0_re = ((instance->G1_machine_I0_re * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0)) - (instance->G1_machine_I0_im * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0))) / instance->G1_machine_I_MBtoSB;

    instance->G1_machine_Idq0_im = ((instance->G1_machine_I0_re * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0)) + (instance->G1_machine_I0_im * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(1.57079632679489656 \
        - instance->G1_machine_delta0))) / instance->G1_machine_I_MBtoSB;

    instance->G1_machine_vd0 = instance->G1_machine_Vdq0_re;

    instance->G1_machine_vq0 = instance->G1_machine_Vdq0_im;

    instance->G1_machine_id0 = instance->G1_machine_Idq0_re;

    instance->G1_machine_iq0 = instance->G1_machine_Idq0_im;

    instance->G1_machine_pm00 = (((instance->G1_machine_vq0 + (instance->G1_machine_ra * instance->G1_machine_iq0)) * instance->G1_machine_iq0) \
        + ((instance->G1_machine_vd0 + (instance->G1_machine_ra * instance->G1_machine_id0)) * instance->G1_machine_id0)) \
        / instance->G1_machine_S_SBtoMB;

    instance->G1_machine_e2q0 = instance->G1_machine_vq0 + (instance->G1_machine_ra * instance->G1_machine_iq0) + (instance->G1_machine_x2d \
        * instance->G1_machine_id0);

    instance->G1_machine_K1 = instance->G1_machine_xd - instance->G1_machine_x1d - ((instance->G1_machine_T2d0 * instance->G1_machine_x2d \
        * (instance->G1_machine_xd - instance->G1_machine_x1d)) / (instance->G1_machine_T1d0 * instance->G1_machine_x1d));

    instance->G1_machine_K2 = (instance->G1_machine_x1d - instance->G1_machine_x2d) + ((instance->G1_machine_T2d0 * instance->G1_machine_x2d \
        * (instance->G1_machine_xd - instance->G1_machine_x1d)) / (instance->G1_machine_T1d0 * instance->G1_machine_x1d));

    instance->G1_machine_e1q0 = (instance->G1_machine_e2q0 + (instance->G1_machine_K2 * instance->G1_machine_id0)) - ((instance->G1_machine_Taa \
        * (((instance->G1_machine_K1 + instance->G1_machine_K2) * instance->G1_machine_id0) + instance->G1_machine_e2q0)) \
        / instance->G1_machine_T1d0);

    instance->G1_machine_vf00 = (instance->G1_machine_V_MBtoSB * ((instance->G1_machine_K1 * instance->G1_machine_id0) \
        + instance->G1_machine_e1q0)) / (1.0 - (instance->G1_machine_Taa / instance->G1_machine_T1d0));

    instance->G1_K0 = instance->K0;

    instance->G1_avr_K0 = instance->G1_K0;

    instance->G1_avr_limiter1_uMax = instance->G1_avr_vfmax;

    instance->G1_avr_limiter1_uMin = instance->G1_avr_vfmin;

    instance->B3_p_vr = instance->infiniteBus_v_0 * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->infiniteBus_angle_0);

    instance->B3_p_vi = instance->infiniteBus_v_0 * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->infiniteBus_angle_0);

    instance->vf0OUT = instance->G1_machine_vf00;
}

static void Reinitialize(ALGOSTRUCT *instance)
{
    /* Error signals helpers */
    SPE_ErrorSignal_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed SPE_tmp_signals_from_caller \
        = instance->ErrorSignals;
    SPE_ErrorSignal_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed SPE_tmp_signals;

    /* Local variable(s) */
    bool DymolaConvertInputToREAL0;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed DymolaConvertInputToReal0;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed B1_p_vi;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed B1_p_vr;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_vd;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_vq;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed solution_buffer_for_x_6[6];
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed _A0[36];
    size_t _pivot2[6];
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed _work1[6];

    /* Remove signals from caller */
    instance->ErrorSignals = SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;

    /* Algorithm */
    /*
    Initialize variables without explicit start value or equation (implicit initializations):
    */

    instance->der_G1_avr_vm = 0.0;

    instance->der_G1_avr_vr = 0.0;

    instance->der_G1_avr_vf1 = 0.0;

    instance->der_G1_machine_e1q = 0.0;

    instance->der_G1_machine_e2q = 0.0;

    instance->der_G1_machine_w = 0.0;

    instance->der_G1_machine_delta = 0.0;

    instance->Pgen = 0.0;

    instance->Qgen = 0.0;

    /*
    Initialize variables with explicit start value (independent initializations):
    */

    instance->G1_machine_e1q = instance->G1_machine_e1q0;

    instance->G1_machine_e2q = instance->G1_machine_e2q0;

    instance->G1_machine_w = 1.0;

    instance->w = 1.0;

    /*
    Initialize variables with start value equation (dependent initializations):
    */

    instance->der_G1_machine_e1d = 0.0;

    instance->der_G1_machine_e2d = 0.0;

    instance->G1_machine_delta = instance->G1_machine_delta0;

    DymolaConvertInputToReal0 = instance->fault ? 2.0 : 0.0;

    DymolaConvertInputToREAL0 = SPE_greater_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(&instance->ErrorSignals, \
        DymolaConvertInputToReal0, 1);

    /* Solve linear system of equations A*x = b: */

    _A0[0] = instance->transformer_r / instance->transformer_m;
    _A0[1] = (-1.0) * (instance->transformer_x / instance->transformer_m);
    _A0[2] = 0.0;
    _A0[3] = 0.0;
    _A0[4] = ((instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - ((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2d) + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra))) + (instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)));
    _A0[5] = ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * (instance->G1_machine_T1q0 * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->G1_machine_T1q0) - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra)) + ((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * (instance->G1_machine_T2q0 * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->G1_machine_T2q0) + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2q) + (instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        - (instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)));
    _A0[6] = instance->transformer_x / instance->transformer_m;
    _A0[7] = instance->transformer_r / instance->transformer_m;
    _A0[8] = 0.0;
    _A0[9] = 0.0;
    _A0[10] = (((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra) - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2d)) + (instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        - (instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)));
    _A0[11] = ((instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - ((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra) + ((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * (instance->G1_machine_T1q0 * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->G1_machine_T1q0) + ((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * (instance->G1_machine_T2q0 * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)))) / instance->G1_machine_T2q0) + (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2q))) + (instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)));
    _A0[12] = (((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))) * instance->transformer_x) \
        + ((1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))) * instance->transformer_r) \
        + instance->L1_Z_re;
    _A0[13] = (((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))) * instance->transformer_r) \
        - ((1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))) * instance->transformer_x) \
        - instance->L1_Z_im;
    _A0[14] = (-1.0) * instance->L1_Z_im;
    _A0[15] = instance->L1_Z_re;
    _A0[16] = (-1.0) * (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) * instance->G1_machine_x2d) \
        + (((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * instance->G1_machine_ra)) \
        / instance->transformer_m);
    _A0[17] = (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) * instance->G1_machine_ra) \
        / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    _A0[18] = ((1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))) * instance->transformer_x) \
        + (((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)) * instance->transformer_r) \
        + instance->L1_Z_im;
    _A0[19] = (((1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))) * instance->transformer_r) \
        - (((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)) * instance->transformer_x)) \
        + instance->L1_Z_re;
    _A0[20] = instance->L1_Z_re;
    _A0[21] = instance->L1_Z_im;
    _A0[22] = (-1.0) * (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) * instance->G1_machine_x2d) \
        + (((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * instance->G1_machine_ra)) \
        / instance->transformer_m);
    _A0[23] = (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) * instance->G1_machine_ra) \
        / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    _A0[24] = ((1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))) * instance->transformer_r) \
        - (((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)) * instance->transformer_x);
    _A0[25] = (-1.0) * ((((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)) * instance->transformer_r) \
        + ((1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))) * instance->transformer_x));
    _A0[26] = instance->L2_Z_im;
    _A0[27] = (-1.0) * instance->L2_Z_re;
    _A0[28] = (-1.0) * (((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) * instance->G1_machine_x2d) \
        + (((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) + (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * instance->G1_machine_ra)) \
        / instance->transformer_m);
    _A0[29] = (((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) + (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) * instance->G1_machine_ra) \
        / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) + (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) + (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    _A0[30] = ((1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))) * instance->transformer_x) \
        + (((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)) * instance->transformer_r);
    _A0[31] = ((1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))) * instance->transformer_r) \
        - (((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)) * instance->transformer_x);
    _A0[32] = (-1.0) * instance->L2_Z_re;
    _A0[33] = (-1.0) * instance->L2_Z_im;
    _A0[34] = (-1.0) * (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) * instance->G1_machine_x2d) \
        + (((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * instance->G1_machine_ra)) \
        / instance->transformer_m);
    _A0[35] = (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_T1q0 \
        * (instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T1q0) - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) * instance->G1_machine_ra) \
        / instance->transformer_m)) + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_T2q0 \
        * ((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)))) \
        / instance->transformer_m / instance->G1_machine_T2q0) + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))) - (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * instance->G1_machine_x2q) \
        / instance->transformer_m);
    solution_buffer_for_x_6[0] = (-1.0) * (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_e2q);
    solution_buffer_for_x_6[1] = (-1.0) * (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m / instance->transformer_m) - (1.0 / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_e2q);
    solution_buffer_for_x_6[2] = instance->B3_p_vr - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) \
        - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) * instance->G1_machine_e2q) \
        / instance->transformer_m);
    solution_buffer_for_x_6[3] = instance->B3_p_vi - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) * instance->G1_machine_e2q) \
        / instance->transformer_m);
    solution_buffer_for_x_6[4] = instance->B3_p_vr - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))) - (instance->G1_machine_V_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) * instance->G1_machine_e2q) \
        / instance->transformer_m);
    solution_buffer_for_x_6[5] = instance->B3_p_vi - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))) + (instance->G1_machine_V_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) * instance->G1_machine_e2q) \
        / instance->transformer_m);
    SPE_solveLinearEquations_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(&instance->ErrorSignals, \
        _A0, solution_buffer_for_x_6, _pivot2, _work1, 6);

    /* A matrix: */
    /* Row 1: */
    /* Row 2: */
    /* Row 3: */
    /* Row 4: */
    /* Row 5: */
    /* Row 6: */
    /* b vector: */

    SPE_tmp_signals = instance->ErrorSignals & SPE_ERRORSIGNAL_SOLVE_LINEAR_EQUATIONS_FAILED_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    if(SPE_tmp_signals != SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed) \
        {
        instance->ErrorSignals ^= SPE_tmp_signals;
        /* Set states to default start-values and propagate error: */

        instance->transformer_n_ir = 2.22044604925031308e-16;

        instance->transformer_n_ii = 2.22044604925031308e-16;

        instance->L2_p_ii = 2.22044604925031308e-16;

        instance->L2_p_ir = 2.22044604925031308e-16;

        instance->G1_machine_id = instance->G1_machine_id0;

        instance->G1_machine_iq = instance->G1_machine_iq0;

        instance->ErrorSignals |= SPE_ERRORSIGNAL_SOLVE_LINEAR_EQUATIONS_FAILED_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    } else {
        /* Only if the system can be solved, assign computed states: */

        instance->transformer_n_ir = solution_buffer_for_x_6[0];

        instance->transformer_n_ii = solution_buffer_for_x_6[1];

        instance->L2_p_ii = solution_buffer_for_x_6[2];

        instance->L2_p_ir = solution_buffer_for_x_6[3];

        instance->G1_machine_id = solution_buffer_for_x_6[4];

        instance->G1_machine_iq = solution_buffer_for_x_6[5];
    }

    G1_machine_vq = instance->G1_machine_e2q - ((instance->G1_machine_ra * instance->G1_machine_iq) + (instance->G1_machine_x2d \
        * instance->G1_machine_id));

    instance->G1_machine_e1d = ((instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 * instance->G1_machine_x2q \
        * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)) \
        * instance->G1_machine_iq * instance->G1_machine_T1q0) / instance->G1_machine_T1q0;

    instance->G1_machine_e2d = ((instance->G1_machine_e1d + (((instance->G1_machine_x1q - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)) * instance->G1_machine_iq)) * instance->G1_machine_T2q0) / instance->G1_machine_T2q0;

    G1_machine_vd = (instance->G1_machine_e2d - (instance->G1_machine_ra * instance->G1_machine_id)) + (instance->G1_machine_x2q \
        * instance->G1_machine_iq);

    B1_p_vi = instance->G1_machine_V_MBtoSB * ((SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vq) - (SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vd));

    B1_p_vr = instance->G1_machine_V_MBtoSB * ((SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vd) + (SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vq));

    instance->v = SPE_sqrt_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed((SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(B1_p_vr)) \
        + (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(B1_p_vi)));

    instance->G1_avr_vref = instance->v;

    instance->G1_avr_s0 = instance->vf;

    instance->G1_avr_vf1 = instance->G1_machine_vf00;

    instance->G1_avr_vm = instance->v;

    instance->G1_avr_vr = instance->G1_avr_K0 * (1.0 - (instance->G1_avr_T1 / instance->G1_avr_T2)) * ((instance->G1_avr_vref \
        + instance->vf) - instance->G1_avr_vm);

    /* Conduct delta(t) = 0 super-dense time initialization at next sampling:: */

    instance->discrete_stepSize_active = false;

    /* Restore signals from caller */
    instance->ErrorSignals |= SPE_tmp_signals_from_caller;
}

static void Startup(ALGOSTRUCT *instance)
{
    /* Algorithm */
    /* ********************************************************************************************** Initialize constants: */
    /*
    Initialize variables with explicit start value (independent initializations):
    */

    instance->discrete_stepSize = 1.00000000000000005e-4;

    instance->transformer_m = 1.0;

    instance->G1_machine_x2q = 2.5e-1;

    instance->G1_machine_ra = 3.00000000000000006e-3;

    instance->G1_machine_x2d = 2.3000000000000001e-1;

    instance->G1_avr_Tr = 1.49999999999999994e-2;

    instance->G1_avr_T1 = 1.0;

    instance->G1_avr_T2 = 1.0;

    instance->G1_avr_Te = 2.99999999999999989e-1;

    instance->G1_machine_Vn = 4.0e+5;

    instance->G1_machine_Taa = 2.00000000000000004e-3;

    instance->G1_machine_T1d0 = 8.0;

    instance->G1_machine_xd = 1.81000000000000005;

    instance->G1_machine_x1d = 2.99999999999999989e-1;

    instance->G1_machine_T2d0 = 2.99999999999999989e-2;

    instance->G1_machine_M = 7.0;

    instance->G1_machine_xq = 1.76000000000000001;

    instance->G1_machine_x1q = 6.50000000000000022e-1;

    instance->G1_machine_T2q0 = 7.00000000000000067e-2;

    instance->G1_machine_T1q0 = 1.0;

    instance->SysData_S_b = 1.0e+8;

    instance->infiniteBus_v_0 = 9.0081e-1;

    instance->infiniteBus_angle_0 = 0.0;

    instance->G1_avr_vfmin = -6.40000000000000036;

    instance->G1_avr_vfmax = 7.0;

    instance->G1_machine_Sn = 2.22e+9;

    instance->G1_angle_0 = 4.94677176989159972e-1;

    instance->G1_v_0 = 1.0;

    instance->G1_Q_0 = 9.67924969906579971e+8;

    instance->G1_P_0 = 1.99799999999359989e+9;

    instance->SysData_fn = 6.0e+1;

    instance->G1_V_b = 4.0e+5;

    instance->L2_X = 4.18918918918918942e-2;

    instance->L2_R = 0.0;

    instance->L2_B = 0.0;

    instance->L2_G = 0.0;

    instance->L1_X = 2.25225225225225215e-2;

    instance->L1_R = 0.0;

    instance->L1_B = 0.0;

    instance->L1_G = 0.0;

    instance->transformer_xT = 1.49999999999999994e-1;

    instance->transformer_rT = 0.0;

    instance->transformer_V_b = 4.0e+5;

    instance->transformer_Vn = 4.0e+5;

    instance->transformer_Sn = 2.22e+9;

    /* ******************************************************* Default initialize tuneable parameters (based on constants): */
    /*
    Initialize variables with explicit start value (independent initializations):
    */

    instance->K0 = 3.0e+1;

    /* ****************************** Default initialize dependend parameters (based on constants and tuneable parameters): */

    Recalibrate(instance);

    /* ***************************************************** Default initialize inputs (based on constants and parameters): */
    /*
    Initialize variables without explicit start value or equation (implicit initializations):
    */

    instance->fault = false;

    /*
    Initialize variables with explicit start value (independent initializations):
    */

    instance->vf = 0.0;

    /* ********************************* Default initialize states and outputs (based on constants, parameters and inputs): */

    Reinitialize(instance);
}

static void DoStep(ALGOSTRUCT *instance)
{
    /* Error signals helpers */
    SPE_ErrorSignal_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed SPE_tmp_signals_from_caller \
        = instance->ErrorSignals;
    SPE_ErrorSignal_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed SPE_tmp_signals;

    /* Local variable(s) */
    bool DymolaConvertInputToREAL0;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed DymolaConvertInputToReal0;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed B1_p_vi;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed B1_p_vr;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed B2_p_vi;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed B2_p_vr;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_P;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_Q;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_pe;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_vd;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_vf;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_vf_MB;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed G1_machine_vq;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed L1_p_ii;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed L1_p_ir;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed pwFault4efmi_p_ii;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed pwFault4efmi_p_ir;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed transformer_p_ii;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed transformer_p_ir;
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed solution_buffer_for_x_6[6];
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed _A3[36];
    size_t _pivot5[6];
    SPE_Real_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed _work4[6];

    /* Remove signals from caller */
    instance->ErrorSignals = SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;

    /* Algorithm */
    if(instance->discrete_stepSize_active) {
        /* *********************************************************************** Update-equations for inline integration: */

        instance->G1_avr_vm += instance->discrete_stepSize * instance->der_G1_avr_vm;

        instance->G1_avr_vr += instance->discrete_stepSize * instance->der_G1_avr_vr;

        instance->G1_avr_vf1 += instance->discrete_stepSize * instance->der_G1_avr_vf1;

        instance->G1_machine_e1q += instance->discrete_stepSize * instance->der_G1_machine_e1q;

        instance->G1_machine_e2q += instance->discrete_stepSize * instance->der_G1_machine_e2q;

        instance->G1_machine_w += instance->discrete_stepSize * instance->der_G1_machine_w;

        instance->G1_machine_delta += instance->discrete_stepSize * instance->der_G1_machine_delta;

        instance->G1_machine_e1d += instance->discrete_stepSize * instance->der_G1_machine_e1d;

        instance->G1_machine_e2d += instance->discrete_stepSize * instance->der_G1_machine_e2d;
    } else {
        /* no action */;
    }

    /* ******************************************************************************************* Inline integration loop: */

    DymolaConvertInputToReal0 = instance->fault ? 2.0 : 0.0;

    DymolaConvertInputToREAL0 = SPE_greater_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(&instance->ErrorSignals, \
        DymolaConvertInputToReal0, 1);

    /* Solve linear system of equations A*x = b: */

    _A3[0] = (-1.0) * instance->transformer_x;
    _A3[1] = instance->transformer_r;
    _A3[2] = 0.0;
    _A3[3] = 0.0;
    _A3[4] = (((instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - (instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2q)) - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra);
    _A3[5] = ((instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + (instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra) - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2d);
    _A3[6] = instance->transformer_r;
    _A3[7] = instance->transformer_x;
    _A3[8] = 0.0;
    _A3[9] = 0.0;
    _A3[10] = ((instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + (instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2q) - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra);
    _A3[11] = (((instance->transformer_m * instance->transformer_x * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - (instance->transformer_m * instance->transformer_r * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_ra)) - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_x2d);
    _A3[12] = (-1.0) * instance->L1_Z_im;
    _A3[13] = instance->L1_Z_re;
    _A3[14] = instance->L1_Z_re;
    _A3[15] = (-1.0) * instance->L1_Z_im;
    _A3[16] = (((((instance->transformer_m * instance->transformer_x * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) \
        - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 \
        == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im)))) - (instance->transformer_m * instance->transformer_r * ((((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re \
        * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - (((instance->transformer_m * instance->transformer_r * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im \
        * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) \
        : 0.0) * instance->L1_Z_im)))) + (instance->transformer_m * instance->transformer_x * ((((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re \
        * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) \
        - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) \
        ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))))) \
        * instance->G1_machine_x2q) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) \
        - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) \
        ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    _A3[17] = (-1.0) * ((((instance->transformer_m * instance->transformer_r * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) \
        - (instance->L1_Z_im * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 \
        == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im)))) + (instance->transformer_m * instance->transformer_x * ((((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re \
        * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + (((instance->transformer_m * instance->transformer_x * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im \
        * instance->L1_Y_im) - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) \
        : 0.0) * instance->L1_Z_im)))) - (instance->transformer_m * instance->transformer_r * ((((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re \
        * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re))))) * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) \
        - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) \
        ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) \
        - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) \
        ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))))) \
        * instance->G1_machine_x2d) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))));
    _A3[18] = instance->L1_Z_re;
    _A3[19] = instance->L1_Z_im;
    _A3[20] = instance->L1_Z_im;
    _A3[21] = instance->L1_Z_re;
    _A3[22] = (((((instance->transformer_m * instance->transformer_x * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im \
        * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) \
        : 0.0) * instance->L1_Z_re))) - (instance->transformer_m * instance->transformer_r * (1.0 + (((instance->L1_Z_re \
        * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 == false) ? 0.0 \
        : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * (instance->G1_machine_I_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - (((instance->transformer_m * instance->transformer_r * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im \
        * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) \
        : 0.0) * instance->L1_Z_re))) + (instance->transformer_m * instance->transformer_x * (1.0 + (((instance->L1_Z_re \
        * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 == false) ? 0.0 \
        : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * (instance->G1_machine_I_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))))) \
        * instance->G1_machine_x2q) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    _A3[23] = (-1.0) * ((((instance->transformer_m * instance->transformer_r * ((instance->L1_Z_re * instance->L1_Y_im) \
        + (instance->L1_Z_im * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 \
        == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re))) + (instance->transformer_m * instance->transformer_x * (1.0 \
        + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 \
        == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * (instance->G1_machine_I_MBtoSB \
        * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + (((instance->transformer_m * instance->transformer_x * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im \
        * instance->L1_Y_re) + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) \
        : 0.0) * instance->L1_Z_re))) - (instance->transformer_m * instance->transformer_r * (1.0 + (((instance->L1_Z_re \
        * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) + (((DymolaConvertInputToREAL0 == false) ? 0.0 \
        : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im))))) * (instance->G1_machine_I_MBtoSB \
        * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))))) \
        * instance->G1_machine_x2d) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))));
    _A3[24] = 0.0;
    _A3[25] = 0.0;
    _A3[26] = (-1.0) * instance->L2_Z_re;
    _A3[27] = instance->L2_Z_im;
    _A3[28] = ((((instance->transformer_m * instance->transformer_x * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im \
        * instance->L2_Y_re))) - (instance->transformer_m * instance->transformer_r * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) \
        - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + (((instance->transformer_m * instance->transformer_x * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im \
        * instance->L2_Y_im)))) + (instance->transformer_m * instance->transformer_r * ((instance->L2_Z_re * instance->L2_Y_im) \
        + (instance->L2_Z_im * instance->L2_Y_re)))) * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) \
        + (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))))) \
        * instance->G1_machine_x2q) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) \
        - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    _A3[29] = (((instance->transformer_m * instance->transformer_x * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im \
        * instance->L2_Y_re))) - (instance->transformer_m * instance->transformer_r * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) \
        - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - (((instance->transformer_m * instance->transformer_x * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im \
        * instance->L2_Y_im)))) + (instance->transformer_m * instance->transformer_r * ((instance->L2_Z_re * instance->L2_Y_im) \
        + (instance->L2_Z_im * instance->L2_Y_re)))) * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) \
        + (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))) \
        - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) \
        - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))))) \
        * instance->G1_machine_x2d) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    _A3[30] = 0.0;
    _A3[31] = 0.0;
    _A3[32] = (-1.0) * instance->L2_Z_im;
    _A3[33] = (-1.0) * instance->L2_Z_re;
    _A3[34] = (((((instance->transformer_m * instance->transformer_x * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im \
        * instance->L2_Y_re))) - (instance->transformer_m * instance->transformer_r * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) \
        - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        - (((instance->transformer_m * instance->transformer_r * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im \
        * instance->L2_Y_re))) + (instance->transformer_m * instance->transformer_x * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) \
        - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta)))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))))) \
        * instance->G1_machine_x2q) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        - ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    _A3[35] = (-1.0) * ((((instance->transformer_m * instance->transformer_r * ((instance->L2_Z_re * instance->L2_Y_im) \
        + (instance->L2_Z_im * instance->L2_Y_re))) + (instance->transformer_m * instance->transformer_x * (1.0 + ((instance->L2_Z_re \
        * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_I_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + (((instance->transformer_m * instance->transformer_x * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im \
        * instance->L2_Y_re))) - (instance->transformer_m * instance->transformer_r * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) \
        - (instance->L2_Z_im * instance->L2_Y_im))))) * (instance->G1_machine_I_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))))) \
        * instance->G1_machine_ra) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))) \
        + ((((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))))) \
        * instance->G1_machine_x2d) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))));
    solution_buffer_for_x_6[0] = (-1.0) * ((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_e2d) + (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_e2q));
    solution_buffer_for_x_6[1] = (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_e2d) - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * ((1.0 / instance->transformer_m) + (((-1.0) * instance->transformer_m) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)))) \
        * instance->G1_machine_e2q);
    solution_buffer_for_x_6[2] = instance->B3_p_vr - (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) \
        - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) \
        ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))))) \
        * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im) \
        - (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_im))))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) \
        ? 2.22e+3 : 0.0) * instance->L1_Z_re) - ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re)))))) \
        * instance->G1_machine_e2q)) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    solution_buffer_for_x_6[3] = instance->B3_p_vi - (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))))) \
        * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L1_Z_re * instance->L1_Y_im) + (instance->L1_Z_im * instance->L1_Y_re) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (-2.22E+3) : 0.0) * instance->L1_Z_re)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + (((instance->L1_Z_re * instance->L1_Y_re) - (instance->L1_Z_im * instance->L1_Y_im)) \
        + (((DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? 2.22e+3 : 0.0) * instance->L1_Z_im)))))) \
        * instance->G1_machine_e2q)) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    solution_buffer_for_x_6[4] = instance->B3_p_vr - (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) \
        + (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))))) \
        * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im))))) \
        - (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re))))) \
        * instance->G1_machine_e2q)) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    solution_buffer_for_x_6[5] = instance->B3_p_vi - (((((instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) \
        - (instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))))) \
        * instance->G1_machine_e2d) + (((instance->G1_machine_V_MBtoSB * SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * ((instance->L2_Z_re * instance->L2_Y_im) + (instance->L2_Z_im * instance->L2_Y_re)))) \
        + (instance->G1_machine_V_MBtoSB * SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * (instance->transformer_m * (1.0 + ((instance->L2_Z_re * instance->L2_Y_re) - (instance->L2_Z_im * instance->L2_Y_im)))))) \
        * instance->G1_machine_e2q)) / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m)));
    SPE_solveLinearEquations_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(&instance->ErrorSignals, \
        _A3, solution_buffer_for_x_6, _pivot5, _work4, 6);

    /* A matrix: */
    /* Row 1: */
    /* Row 2: */
    /* Row 3: */
    /* Row 4: */
    /* Row 5: */
    /* Row 6: */
    /* b vector: */

    SPE_tmp_signals = instance->ErrorSignals & SPE_ERRORSIGNAL_SOLVE_LINEAR_EQUATIONS_FAILED_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    if(SPE_tmp_signals != SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed) \
        {
        instance->ErrorSignals ^= SPE_tmp_signals;
        /* Propagate error but leave states as they are: */

        instance->ErrorSignals |= SPE_ERRORSIGNAL_SOLVE_LINEAR_EQUATIONS_FAILED_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    } else {
        /* Only if the system can be solved, assign computed states: */

        instance->transformer_n_ii = solution_buffer_for_x_6[0];

        instance->transformer_n_ir = solution_buffer_for_x_6[1];

        instance->L2_p_ir = solution_buffer_for_x_6[2];

        instance->L2_p_ii = solution_buffer_for_x_6[3];

        instance->G1_machine_iq = solution_buffer_for_x_6[4];

        instance->G1_machine_id = solution_buffer_for_x_6[5];
    }

    transformer_p_ir = instance->G1_machine_I_MBtoSB * ((SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * instance->G1_machine_id) + (SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * instance->G1_machine_iq));

    transformer_p_ii = instance->G1_machine_I_MBtoSB * ((SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * instance->G1_machine_iq) - (SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * instance->G1_machine_id));

    G1_machine_vd = (instance->G1_machine_e2d - (instance->G1_machine_ra * instance->G1_machine_id)) + (instance->G1_machine_x2q \
        * instance->G1_machine_iq);

    G1_machine_vq = instance->G1_machine_e2q - ((instance->G1_machine_ra * instance->G1_machine_iq) + (instance->G1_machine_x2d \
        * instance->G1_machine_id));

    B1_p_vr = instance->G1_machine_V_MBtoSB * ((SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vd) + (SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vq));

    B2_p_vr = (((B1_p_vr / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))) \
        - (instance->transformer_r * transformer_p_ir)) + (instance->transformer_x * transformer_p_ii)) * instance->transformer_m;

    pwFault4efmi_p_ii = (DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? ((-2.22E+3) \
        * B2_p_vr) : 0.0;

    B1_p_vi = instance->G1_machine_V_MBtoSB * ((SPE_sin_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vq) - (SPE_cos_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->G1_machine_delta) \
        * G1_machine_vd));

    B2_p_vi = ((B1_p_vi / (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->transformer_m))) \
        - ((instance->transformer_r * transformer_p_ii) + (instance->transformer_x * transformer_p_ir))) * instance->transformer_m;

    pwFault4efmi_p_ir = (DymolaConvertInputToREAL0 == false) ? 0.0 : (DymolaConvertInputToREAL0 == true) ? (2.22e+3 * B2_p_vi) \
        : 0.0;

    L1_p_ir = (-1.0) * (instance->L2_p_ir + pwFault4efmi_p_ir + instance->transformer_n_ir);

    L1_p_ii = (-1.0) * (instance->L2_p_ii + pwFault4efmi_p_ii + instance->transformer_n_ii);

    instance->v = SPE_sqrt_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed((SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(B1_p_vr)) \
        + (SPE_ipowSquare_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(B1_p_vi)));

    instance->der_G1_avr_vm = (instance->v - instance->G1_avr_vm) / instance->G1_avr_Tr;

    instance->der_G1_avr_vr = ((instance->G1_avr_K0 * (1.0 - (instance->G1_avr_T1 / instance->G1_avr_T2)) * ((instance->G1_avr_vref \
        + instance->vf) - instance->G1_avr_vm)) - instance->G1_avr_vr) / instance->G1_avr_T2;

    instance->der_G1_avr_vf1 = (((instance->G1_avr_vr + ((instance->G1_avr_K0 * instance->G1_avr_T1 * ((instance->G1_avr_vref \
        + instance->vf) - instance->G1_avr_vm)) / instance->G1_avr_T2) + instance->G1_machine_vf00) * (1.0 + (instance->G1_avr_s0 \
        * ((instance->v / instance->G1_avr_vm) - 1.0)))) - instance->G1_avr_vf1) / instance->G1_avr_Te;

    G1_machine_vf = SPE_greater_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(&instance->ErrorSignals, \
        instance->G1_avr_vf1, instance->G1_avr_limiter1_uMax) ? instance->G1_avr_limiter1_uMax : SPE_less_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(&instance->ErrorSignals, \
        instance->G1_avr_vf1, instance->G1_avr_limiter1_uMin) ? instance->G1_avr_limiter1_uMin : instance->G1_avr_vf1;

    G1_machine_vf_MB = (G1_machine_vf * instance->G1_machine_V_b) / instance->G1_machine_Vn;

    instance->der_G1_machine_e1q = (((1.0 - (instance->G1_machine_Taa / instance->G1_machine_T1d0)) * G1_machine_vf_MB) \
        - (instance->G1_machine_e1q + ((instance->G1_machine_xd - instance->G1_machine_x1d - ((instance->G1_machine_T2d0 \
        * instance->G1_machine_x2d * (instance->G1_machine_xd - instance->G1_machine_x1d)) / instance->G1_machine_T1d0 \
        / instance->G1_machine_x1d)) * instance->G1_machine_id))) / instance->G1_machine_T1d0;

    instance->der_G1_machine_e2q = ((instance->G1_machine_e1q - instance->G1_machine_e2q - (((instance->G1_machine_x1d \
        - instance->G1_machine_x2d) + ((instance->G1_machine_T2d0 * instance->G1_machine_x2d * (instance->G1_machine_xd \
        - instance->G1_machine_x1d)) / instance->G1_machine_T1d0 / instance->G1_machine_x1d)) * instance->G1_machine_id)) \
        + ((instance->G1_machine_Taa * G1_machine_vf_MB) / instance->G1_machine_T1d0)) / instance->G1_machine_T2d0;

    G1_machine_pe = ((G1_machine_vq + (instance->G1_machine_ra * instance->G1_machine_iq)) * instance->G1_machine_iq) + \
        ((G1_machine_vd + (instance->G1_machine_ra * instance->G1_machine_id)) * instance->G1_machine_id);

    instance->der_G1_machine_w = ((instance->G1_machine_pm00 * instance->G1_machine_S_SBtoMB) - G1_machine_pe) / instance->G1_machine_M;

    instance->der_G1_machine_delta = instance->G1_machine_w_b * (instance->G1_machine_w - 1.0);

    instance->der_G1_machine_e1d = (((instance->G1_machine_xq - instance->G1_machine_x1q - ((instance->G1_machine_T2q0 \
        * instance->G1_machine_x2q * (instance->G1_machine_xq - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 \
        / instance->G1_machine_x1q)) * instance->G1_machine_iq) - instance->G1_machine_e1d) / instance->G1_machine_T1q0;

    instance->der_G1_machine_e2d = ((instance->G1_machine_e1d - instance->G1_machine_e2d) + (((instance->G1_machine_x1q \
        - instance->G1_machine_x2q) + ((instance->G1_machine_T2q0 * instance->G1_machine_x2q * (instance->G1_machine_xq \
        - instance->G1_machine_x1q)) / instance->G1_machine_T1q0 / instance->G1_machine_x1q)) * instance->G1_machine_iq)) \
        / instance->G1_machine_T2q0;

    /* ******************************************************************************** Inline integration post-processing: */

    instance->w = instance->G1_machine_w;

    G1_P = ((B1_p_vr * transformer_p_ir) + (B1_p_vi * transformer_p_ii)) * instance->G1_S_b;

    instance->Pgen = G1_P / SPE_rmax_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->SysData_S_b, \
        2.22507385850720138e-308);

    G1_Q = (-1.0) * (((B1_p_vr * transformer_p_ii) - (B1_p_vi * transformer_p_ir)) * instance->G1_S_b);

    instance->Qgen = G1_Q / SPE_rmax_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(instance->SysData_S_b, \
        2.22507385850720138e-308);

    instance->discrete_stepSize_active = true;

    /* Restore signals from caller */
    instance->ErrorSignals |= SPE_tmp_signals_from_caller;
}

/**********************************************************************************************************************
 * init
 **********************************************************************************************************************/
void Startup_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) {
    instance->ErrorSignals = SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    Startup(instance);
}

/**********************************************************************************************************************
 * step
 **********************************************************************************************************************/
void DoStep_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) {
    instance->ErrorSignals = SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    DoStep(instance);
}

/**********************************************************************************************************************
 * recalibrate
 **********************************************************************************************************************/
void Recalibrate_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) \
    {
    instance->ErrorSignals = SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    Recalibrate(instance);
}

/**********************************************************************************************************************
 * reinitialize
 **********************************************************************************************************************/
void Reinitialize_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed(ALGOSTRUCT *instance) \
    {
    instance->ErrorSignals = SPE_ERRORSIGNAL_NONE_Hc234cad58156ccbc9047c71532b337747dea4c15_cb4a8a449b4ada864625ee5a4355578a3aaf08ed;
    Reinitialize(instance);
}

#ifdef __cplusplus
}
#endif

/* end of file */
