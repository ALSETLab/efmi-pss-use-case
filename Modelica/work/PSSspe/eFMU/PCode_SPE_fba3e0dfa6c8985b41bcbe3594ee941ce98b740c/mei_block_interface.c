/*2026-01-14T21:01:35.342414214Z*/

/**********************************************************************************************************************
 * mei_block_interface.c
 *
 * Multiple external instances.
 *
 * generated by : dymola-embedded/MEI_SII_CodeGen 1.0.0
 **********************************************************************************************************************/

#include "mei_block_interface.h"

#ifdef __cplusplus
extern "C" {
#endif

#include <stdlib.h>

#define ALGOSTRUCT  BlockState_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c

void *mei_Startup_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(void) {
    ALGOSTRUCT* self = ((ALGOSTRUCT*) malloc(sizeof(ALGOSTRUCT)));
    if(self != NULL) {
        Startup_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(self);
    }
    return self;
}

void mei_Terminate_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(void *object) {
    if(object != NULL) {
        free(object);
    }
}

MODELICA_Integer mei_DoStep_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(void *object
,   /* IN */    MODELICA_Real   vSI
,   /* OUT */   MODELICA_Real*  vs
) {
    ALGOSTRUCT *self = (ALGOSTRUCT *) object;
    MODELICA_Integer result = -1;

    if(self != NULL) {
        self->vSI = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) vSI;

        DoStep_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(self);

        *vs = ((MODELICA_Real) self->vs);
        result = ((MODELICA_Integer) self->ErrorSignals);
    }

    return result;
}

MODELICA_Integer mei_Recalibrate_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(void \
    *object
,   /* TUNEABLE */  MODELICA_Real   Kw
,   /* TUNEABLE */  MODELICA_Real   T1
,   /* TUNEABLE */  MODELICA_Real   T2
,   /* TUNEABLE */  MODELICA_Real   T3
,   /* TUNEABLE */  MODELICA_Real   T4
,   /* TUNEABLE */  MODELICA_Real   Tw
,   /* TUNEABLE */  MODELICA_Real   vSI_start
,   /* TUNEABLE */  MODELICA_Real   vsmax
,   /* TUNEABLE */  MODELICA_Real   vsmin
) {
    ALGOSTRUCT *self = (ALGOSTRUCT *) object;
    MODELICA_Integer result = -1;

    if(self != NULL) {
        self->Kw = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) Kw;
        self->T1 = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) T1;
        self->T2 = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) T2;
        self->T3 = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) T3;
        self->T4 = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) T4;
        self->Tw = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) Tw;
        self->vSI_start = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) \
            vSI_start;
        self->vsmax = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) vsmax;
        self->vsmin = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) vsmin;

        Recalibrate_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(self);

        result = ((MODELICA_Integer) self->ErrorSignals);
    }

    return result;
}

MODELICA_Integer mei_Reinitialize_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(void \
    *object
,   /* IN */    MODELICA_Real   vSI
,   /* OUT */   MODELICA_Real*  vs
) {
    ALGOSTRUCT *self = (ALGOSTRUCT *) object;
    MODELICA_Integer result = -1;

    if(self != NULL) {
        self->vSI = (SPE_Real_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c) vSI;

        Reinitialize_He61c9e6d5af0d56a3b757d54a04e861698c3a4f4_fba3e0dfa6c8985b41bcbe3594ee941ce98b740c(self);

        *vs = ((MODELICA_Real) self->vs);
        result = ((MODELICA_Integer) self->ErrorSignals);
    }

    return result;
}

#ifdef __cplusplus
}
#endif

/* end of file */
